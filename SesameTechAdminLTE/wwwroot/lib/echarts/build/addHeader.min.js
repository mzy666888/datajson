/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/build/addHeader.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const fs=require("fs"),preamble=require("./preamble"),pathTool=require("path"),{color:color}=require("zrender/build/helper"),excludesPath=pathTool.join(__dirname,"../.headerignore"),ecBasePath=pathTool.join(__dirname,"../"),isVerbose="--verbose"===process.argv[2];function run(){const o=[],e=[],n=[];eachFile(function(l,c){const s=fs.readFileSync(l,"utf-8");preamble.extractLicense(s,c)?e.push(l):preamble.hasPreamble(c)?(fs.writeFileSync(l,preamble.addPreamble(s,c),"utf-8"),o.push(l)):n.push(l)}),console.log("\n"),console.log("----------------------------"),console.log(" Files that exists license: "),console.log("----------------------------"),e.length?isVerbose?e.forEach(function(o){console.log(color("fgGreen","dim")(o))}):console.log(color("fgGreen","dim")(e.length+' files. (use argument "--verbose" see details)')):console.log("Nothing."),console.log("\n"),console.log("--------------------"),console.log(" License added for: "),console.log("--------------------"),o.length?o.forEach(function(o){console.log(color("fgGreen","bright")(o))}):console.log("Nothing."),console.log("\n"),console.log("----------------"),console.log(" Pending files: "),console.log("----------------"),n.length?n.forEach(function(o){console.log(color("fgRed","dim")(o))}):console.log("Nothing."),console.log("\nDone.")}function eachFile(o){const e=[],n=/\.([a-zA-Z0-9_-]+)$/;fs.readFileSync(excludesPath,{encoding:"utf-8"}).replace(/\r/g,"\n").split("\n").forEach(function(o){(o=o.trim())&&"#"!==o.charAt(0)&&e.push(new RegExp(o))}),function l(c){if(function(o){for(let n=0;n<e.length;n++)if(e[n].test(o))return!0}(c))return;const s=pathTool.join(ecBasePath,c);const r=fs.statSync(s);r.isFile()?o(s,function(o){if(o){const e=o.match(n);return e&&e[1]}}(s)):r.isDirectory()&&fs.readdirSync(c).forEach(function(o){l(pathTool.join(c,o))})}("./")}run();
//# sourceMappingURL=/sm/b317dc30cc27c9bee2d7c4b77ca9311c287e2b09596a663f3ab40054066e049d.map