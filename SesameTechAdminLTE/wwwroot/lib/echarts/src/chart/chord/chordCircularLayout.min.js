/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/chart/chord/chordCircularLayout.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import{parsePercent}from"../../util/number";function layout(e,r){zrUtil.isArray(e)||(e=[e]);var t=e[0],s=[];t.eachNode(function(e){var r={size:0,subGroups:[],node:e};s.push(r)}),zrUtil.each(e,function(e){e.eachEdge(function(e){var r=s[e.node1.dataIndex];r.size+=e.getValue("value")||0,r.subGroups.push({size:e.getValue("value"),edge:e})})});var o=zrUtil.reduce(s,function(e,r){return e+r.size},0);r.sort&&"none"!==r.sort&&(s.sort(compareGroups),"descending"===r.sort&&s.reverse());var n=(2*Math.PI-r.padding*t.data.count())/o,c=r.startAngle*Math.PI/180,a=r.clockwise?-1:1;zrUtil.each(s,function(e){r.sortSub&&"none"!==r.sortSub&&(e.subGroups.sort(compareGroups),"descending"===r.sortSub&&e.subGroups.reverse());var t=c+a*e.size*n;e.node.setLayout({startAngle:-c,endAngle:-t,cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,clockwise:r.clockwise}),zrUtil.each(e.subGroups,function(e){var t=c,s=c+a*e.size*n,o=e.edge.getLayout()||{cx:r.cx,cy:r.cy,r:r.r0,clockwise:r.clockwise};o.startAngle=-t,o.endAngle=-s,e.edge.setLayout(o),c=s}),c=t+a*r.padding})}var compareGroups=function(e,r){return e.size-r.size};export default function(e,r,t){e.eachSeriesByType("chord",function(e){var t=e.getGraph(),s=e.get("center"),o=e.get("radius"),n=r.getWidth(),c=r.getHeight(),a=Math.min(n,c)/2;layout(t,{sort:e.get("sort"),sortSub:e.get("sortSub"),padding:e.get("padding"),startAngle:e.get("startAngle"),clockwise:e.get("clockwise"),cx:parsePercent(s[0],n),cy:parsePercent(s[1],c),r0:parsePercent(o[0],a),r:parsePercent(o[1],a)})})}
//# sourceMappingURL=/sm/6811ef186f7fdc0de5759f4084b914e6c06eec08b5b0dc232767316ed1ad1339.map