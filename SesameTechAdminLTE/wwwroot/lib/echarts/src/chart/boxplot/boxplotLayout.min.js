/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/chart/boxplot/boxplotLayout.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import{parsePercent}from"../../util/number";var each=zrUtil.each;export default function(e){var t=groupSeriesByAxis(e);each(t,function(e){var t=e.seriesModels;t.length&&(calculateBase(e),each(t,function(t,a){layoutSingleSeries(t,e.boxOffsetList[a],e.boxWidthList[a])}))})}function groupSeriesByAxis(e){var t=[],a=[];return e.eachSeriesByType("boxplot",function(e){var i=e.getBaseAxis(),s=zrUtil.indexOf(a,i);s<0&&(s=a.length,a[s]=i,t[s]={axis:i,seriesModels:[]}),t[s].seriesModels.push(e)}),t}function calculateBase(e){var t,a,i=e.axis,s=e.seriesModels,n=s.length,r=e.boxWidthList=[],o=e.boxOffsetList=[],c=[];if("category"===i.type)a=i.getBandWidth();else{var u=0;each(s,function(e){u=Math.max(u,e.getData().count())}),t=i.getExtent(),Math.abs(t[1]-t[0])}each(s,function(e){var t=e.get("boxWidth");zrUtil.isArray(t)||(t=[t,t]),c.push([parsePercent(t[0],a)||0,parsePercent(t[1],a)||0])});var l=.8*a-2,h=l/n*.3,f=(l-h*(n-1))/n,p=f/2-l/2;each(s,function(e,t){o.push(p),p+=h+f,r.push(Math.min(Math.max(f,c[t][0]),c[t][1]))})}function layoutSingleSeries(e,t,a){var i=e.coordinateSystem,s=e.getData(),n=a/2,r="horizontal"===e.get("layout")?0:1,o=1-r,c=["x","y"],u=s.mapDimension(c[r]),l=s.mapDimension(c[o],!0);if(!(null==u||l.length<5))for(var h=0;h<s.count();h++){var f=s.get(u,h),p=y(f,l[2],h),g=y(f,l[0],h),x=y(f,l[1],h),d=y(f,l[3],h),v=y(f,l[4],h),m=[];b(m,x,0),b(m,d,1),m.push(g,x,v,d),B(m,g),B(m,v),B(m,p),s.setItemLayout(h,{initBaseline:p[o],ends:m})}function y(e,a,n){var c,u=s.get(a,n),l=[];return l[r]=e,l[o]=u,isNaN(e)||isNaN(u)?c=[NaN,NaN]:(c=i.dataToPoint(l))[r]+=t,c}function b(e,t,a){var i=t.slice(),s=t.slice();i[r]+=n,s[r]-=n,a?e.push(i,s):e.push(s,i)}function B(e,t){var a=t.slice(),i=t.slice();a[r]-=n,i[r]+=n,e.push(a,i)}}
//# sourceMappingURL=/sm/bfe316afbc31c71aecb0c62dca3e131874369eb4fdca14c460efda092da0b34d.map