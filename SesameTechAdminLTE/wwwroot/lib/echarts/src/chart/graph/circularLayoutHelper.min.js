/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/chart/graph/circularLayoutHelper.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as vec2 from"zrender/src/core/vector";import{getSymbolSize,getNodeGlobalScale}from"./graphHelper";var PI=Math.PI,_symbolRadiansHalf=[];export function circularLayout(a,e){var t=a.coordinateSystem;if(!t||"view"===t.type){var o=t.getBoundingRect(),n=a.getData(),i=n.graph,c=o.width/2+o.x,l=o.height/2+o.y,r=Math.min(o.width,o.height)/2,s=n.count();n.setLayout({cx:c,cy:l}),s&&(_layoutNodesBasedOn[e](a,t,i,n,r,c,l,s),i.eachEdge(function(a){var e,t=a.getModel().get("lineStyle.curveness")||0,o=vec2.clone(a.node1.getLayout()),n=vec2.clone(a.node2.getLayout()),i=(o[0]+n[0])/2,r=(o[1]+n[1])/2;+t&&(e=[c*(t*=3)+i*(1-t),l*t+r*(1-t)]),a.setLayout([o,n,e])}))}}var _layoutNodesBasedOn={value:function(a,e,t,o,n,i,c,l){var r=0,s=o.getSum("value"),d=2*Math.PI/(s||l);t.eachNode(function(a){var e=a.getValue("value"),t=d*(s?e:1)/2;r+=t,a.setLayout([n*Math.cos(r)+i,n*Math.sin(r)+c]),r+=t})},symbolSize:function(a,e,t,o,n,i,c,l){var r=0;_symbolRadiansHalf.length=l;var s=getNodeGlobalScale(a);t.eachNode(function(a){var e=getSymbolSize(a);isNaN(e)&&(e=2),e<0&&(e=0),e*=s;var t=Math.asin(e/2/n);isNaN(t)&&(t=PI/2),_symbolRadiansHalf[a.dataIndex]=t,r+=2*t});var d=(2*PI-r)/l/2,u=0;t.eachNode(function(a){var e=d+_symbolRadiansHalf[a.dataIndex];u+=e,a.setLayout([n*Math.cos(u)+i,n*Math.sin(u)+c]),u+=e})}};
//# sourceMappingURL=/sm/00dc82921c21d54c22b3fd79e9b392387a8cfb963ac6a481ce13c52520765892.map