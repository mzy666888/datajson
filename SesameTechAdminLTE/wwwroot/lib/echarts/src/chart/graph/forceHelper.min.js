/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/chart/graph/forceHelper.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as vec2 from"zrender/src/core/vector";var scaleAndAdd=vec2.scaleAndAdd;export function forceLayout(e,r,d){for(var n=d.rect,p=n.width,a=n.height,c=[n.x+p/2,n.y+a/2],o=null==d.gravity?.1:d.gravity,t=0;t<e.length;t++){var i=e[t];i.p||(i.p=vec2.create(p*(Math.random()-.5)+c[0],a*(Math.random()-.5)+c[1])),i.pp=vec2.clone(i.p),i.edges=null}var v=null==d.friction?.6:d.friction,f=v;return{warmUp:function(){f=.8*v},setFixed:function(r){e[r].fixed=!0},setUnfixed:function(r){e[r].fixed=!1},step:function(d){for(var n=[],p=e.length,a=0;a<r.length;a++){var t=r[a];if(!t.ignoreForceLayout){var i=t.n1,v=t.n2;vec2.sub(n,v.p,i.p);var l=vec2.len(n)-t.d,s=v.w/(i.w+v.w);isNaN(s)&&(s=0),vec2.normalize(n,n),!i.fixed&&scaleAndAdd(i.p,i.p,n,s*l*f),!v.fixed&&scaleAndAdd(v.p,v.p,n,-(1-s)*l*f)}}for(a=0;a<p;a++){(h=e[a]).fixed||(vec2.sub(n,c,h.p),scaleAndAdd(h.p,h.p,n,o*f))}for(a=0;a<p;a++){i=e[a];for(var A=a+1;A<p;A++){v=e[A];vec2.sub(n,v.p,i.p),0===(l=vec2.len(n))&&(vec2.set(n,Math.random()-.5,Math.random()-.5),l=1);var u=(i.rep+v.rep)/l/l;!i.fixed&&scaleAndAdd(i.pp,i.pp,n,u),!v.fixed&&scaleAndAdd(v.pp,v.pp,n,-u)}}var x=[];for(a=0;a<p;a++){var h;(h=e[a]).fixed||(vec2.sub(x,h.p,h.pp),scaleAndAdd(h.p,h.p,x,f),vec2.copy(h.pp,h.p))}f*=.992,d&&d(e,r,f<.01)}}}
//# sourceMappingURL=/sm/e68e770bd1edf7367ed2c09144de689bfbb8eb5cd7f33b255e023e79d584a3ba.map