/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/chart/treemap/TreemapSeries.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import SeriesModel from"../../model/Series";import Tree from"../../data/Tree";import Model from"../../model/Model";import{encodeHTML,addCommas}from"../../util/format";import{wrapTreePathInfo}from"../helper/treeHelper";export default SeriesModel.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var o={name:e.name,children:e.data};completeTreeValue(o);var i=e.levels||[];i=e.levels=setDefault(i,t);var r={};return r.levels=i,Tree.createTree(o,this,r).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),o=this.getRawValue(e),i=zrUtil.isArray(o)?addCommas(o[0]):addCommas(o),r=t.getName(e);return encodeHTML(r+": "+i)},getDataParams:function(e){var t=SeriesModel.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=wrapTreePathInfo(o,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},zrUtil.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=zrUtil.createHashMap(),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});function completeTreeValue(e){var t=0;zrUtil.each(e.children,function(e){completeTreeValue(e);var o=e.value;zrUtil.isArray(o)&&(o=o[0]),t+=o});var o=e.value;zrUtil.isArray(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),zrUtil.isArray(e.value)?e.value[0]=o:e.value=o}function setDefault(e,t){var o=t.get("color");if(o){var i;if(e=e||[],zrUtil.each(e,function(e){var t=new Model(e),o=t.get("color");(t.get("itemStyle.color")||o&&"none"!==o)&&(i=!0)}),!i)(e[0]||(e[0]={})).color=o.slice();return e}}
//# sourceMappingURL=/sm/6e96b917dd8f9c96ad52ece452d639661b96dda12e2601ea427fab9fa05dd3bc.map