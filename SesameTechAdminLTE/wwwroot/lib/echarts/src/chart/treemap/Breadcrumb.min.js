/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/chart/treemap/Breadcrumb.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as graphic from"../../util/graphic";import*as layout from"../../util/layout";import*as zrUtil from"zrender/src/core/util";import{wrapTreePathInfo}from"../helper/treeHelper";var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5;function Breadcrumb(e){this.group=new graphic.Group,e.add(this.group)}function makeItemPoints(e,t,r,o,n,a){var i=[[n?e:e-ARRAY_LENGTH,t],[e+r,t],[e+r,t+o],[n?e:e-ARRAY_LENGTH,t+o]];return!a&&i.splice(2,0,[e+r+ARRAY_LENGTH,t+o/2]),!n&&i.push([e,t+o/2]),i}function packEventData(e,t,r){e.eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&wrapTreePathInfo(r,t)}}Breadcrumb.prototype={constructor:Breadcrumb,render:function(e,t,r,o){var n=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),n.get("show")&&r){var i=n.getModel("itemStyle"),p=i.getModel("textStyle"),d={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,d,p),this._renderContent(e,d,i,p,o),layout.positionElement(a,d.pos,d.box)}},_prepare:function(e,t,r){for(var o=e;o;o=o.parentNode){var n=o.getModel().get("name"),a=r.getTextRect(n),i=Math.max(a.width+2*TEXT_PADDING,t.emptyItemWidth);t.totalWidth+=i+ITEM_GAP,t.renderList.push({node:o,text:n,width:i})}},_renderContent:function(e,t,r,o,n){for(var a=0,i=t.emptyItemWidth,p=e.get("breadcrumb.height"),d=layout.getAvailableSize(t.pos,t.box),m=t.totalWidth,l=t.renderList,h=l.length-1;h>=0;h--){var s=l[h],g=s.node,u=s.width,c=s.text;m>d.width&&(m-=u-i,u=i,c=null);var f=new graphic.Polygon({shape:{points:makeItemPoints(a,0,u,p,h===l.length-1,0===h)},style:zrUtil.defaults(r.getItemStyle(),{lineJoin:"bevel",text:c,textFill:o.getTextColor(),textFont:o.getFont()}),z:10,onclick:zrUtil.curry(n,g)});this.group.add(f),packEventData(f,e,g),a+=u+ITEM_GAP}},remove:function(){this.group.removeAll()}};export default Breadcrumb;
//# sourceMappingURL=/sm/ef71ce967ffb7264a056e56f70b46cbba53d8d3d5fa082268acaa098cecfb1c7.map