/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/echarts.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{__DEV__}from"./config";import*as zrender from"zrender/src/zrender";import*as zrUtil from"zrender/src/core/util";import*as colorTool from"zrender/src/tool/color";import env from"zrender/src/core/env";import timsort from"zrender/src/core/timsort";import Eventful from"zrender/src/mixin/Eventful";import GlobalModel from"./model/Global";import ExtensionAPI from"./ExtensionAPI";import CoordinateSystemManager from"./CoordinateSystem";import OptionManager from"./model/OptionManager";import backwardCompat from"./preprocessor/backwardCompat";import dataStack from"./processor/dataStack";import ComponentModel from"./model/Component";import SeriesModel from"./model/Series";import ComponentView from"./view/Component";import ChartView from"./view/Chart";import*as graphic from"./util/graphic";import*as modelUtil from"./util/model";import{throttle}from"./util/throttle";import seriesColor from"./visual/seriesColor";import aria from"./visual/aria";import loadingDefault from"./loading/default";import Scheduler from"./stream/Scheduler";import lightTheme from"./theme/light";import darkTheme from"./theme/dark";import"./component/dataset";import mapDataStorage from"./coord/geo/mapDataStorage";var assert=zrUtil.assert,each=zrUtil.each,isFunction=zrUtil.isFunction,isObject=zrUtil.isObject,parseClassType=ComponentModel.parseClassType;export var version="4.5.0";export var dependencies={zrender:"4.1.2"};var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_POST_CHART_LAYOUT=3500,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_BRUSH=5e3;export var PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH}};var IN_MAIN_PROCESS="__flagInMainProcess",OPTION_UPDATED="__optionUpdated",ACTION_REG=/^[a-zA-Z0-9_]+$/;function createRegisterEventWithLowercaseName(e,t){return function(r,i,n){t||!this._disposed?(r=r&&r.toLowerCase(),Eventful.prototype[e].call(this,r,i,n)):disposedWarning(this.id)}}function MessageCenter(){Eventful.call(this)}function ECharts(e,t,r){r=r||{},"string"==typeof t&&(t=themeStorage[t]),this.id,this.group,this._dom=e;var i="canvas";__DEV__&&(i=("undefined"==typeof window?global:window).__ECHARTS__DEFAULT__RENDERER__||i);var n=this._zr=zrender.init(e,{renderer:r.renderer||i,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height});this._throttledZrFlush=throttle(zrUtil.bind(n.flush,n),17),(t=zrUtil.clone(t))&&backwardCompat(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new CoordinateSystemManager;var o=this._api=createExtensionAPI(this);function s(e,t){return e.__prio-t.__prio}timsort(visualFuncs,s),timsort(dataProcessorFuncs,s),this._scheduler=new Scheduler(this,o,dataProcessorFuncs,visualFuncs),Eventful.call(this,this._ecEventProcessor=new EventProcessor),this._messageCenter=new MessageCenter,this._initEvents(),this.resize=zrUtil.bind(this.resize,this),this._pendingActions=[],n.animation.on("frame",this._onframe,this),bindRenderedEvent(n,this),zrUtil.setAsPrimitive(this)}MessageCenter.prototype.on=createRegisterEventWithLowercaseName("on",!0),MessageCenter.prototype.off=createRegisterEventWithLowercaseName("off",!0),MessageCenter.prototype.one=createRegisterEventWithLowercaseName("one",!0),zrUtil.mixin(MessageCenter,Eventful);var echartsProto=ECharts.prototype;function doConvertPixel(e,t,r){if(this._disposed)disposedWarning(this.id);else{var i,n=this._model,o=this._coordSysMgr.getCoordinateSystems();t=modelUtil.parseFinder(n,t);for(var s=0;s<o.length;s++){var a=o[s];if(a[e]&&null!=(i=a[e](n,t,r)))return i}__DEV__&&console.warn("No coordinate system that supports "+e+" found by the given finder.")}}echartsProto._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[OPTION_UPDATED]){var t=this[OPTION_UPDATED].silent;this[IN_MAIN_PROCESS]=!0,prepare(this),updateMethods.update.call(this),this[IN_MAIN_PROCESS]=!1,this[OPTION_UPDATED]=!1,flushPendingActions.call(this,t),triggerUpdatedEvent.call(this,t)}else if(e.unfinished){var r=TEST_FRAME_REMAIN_TIME,i=this._model,n=this._api;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(i),updateStreamModes(this,i),e.performVisualTasks(i),renderSeries(this,this._model,n,"remain"),r-=+new Date-o}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},echartsProto.getDom=function(){return this._dom},echartsProto.getZr=function(){return this._zr},echartsProto.setOption=function(e,t,r){if(__DEV__&&assert(!this[IN_MAIN_PROCESS],"`setOption` should not be called during main process."),this._disposed)disposedWarning(this.id);else{var i;if(isObject(t)&&(r=t.lazyUpdate,i=t.silent,t=t.notMerge),this[IN_MAIN_PROCESS]=!0,!this._model||t){var n=new OptionManager(this._api),o=this._theme,s=this._model=new GlobalModel;s.scheduler=this._scheduler,s.init(null,null,o,n)}this._model.setOption(e,optionPreprocessorFuncs),r?(this[OPTION_UPDATED]={silent:i},this[IN_MAIN_PROCESS]=!1):(prepare(this),updateMethods.update.call(this),this._zr.flush(),this[OPTION_UPDATED]=!1,this[IN_MAIN_PROCESS]=!1,flushPendingActions.call(this,i),triggerUpdatedEvent.call(this,i))}},echartsProto.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},echartsProto.getModel=function(){return this._model},echartsProto.getOption=function(){return this._model&&this._model.getOption()},echartsProto.getWidth=function(){return this._zr.getWidth()},echartsProto.getHeight=function(){return this._zr.getHeight()},echartsProto.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},echartsProto.getRenderedCanvas=function(e){if(env.canvasSupported)return(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},echartsProto.getSvgDataUrl=function(){if(env.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return zrUtil.each(t,function(e){e.stopAnimation(!0)}),e.painter.pathToDataUrl()}},echartsProto.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,r=this._model,i=[],n=this;each(t,function(e){r.eachComponent({mainType:e},function(e){var t=n._componentsMap[e.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return each(i,function(e){e.group.ignore=!1}),o}disposedWarning(this.id)},echartsProto.getConnectedDataURL=function(e){if(this._disposed)disposedWarning(this.id);else if(env.canvasSupported){var t=this.group,r=Math.min,i=Math.max;if(connectedGroups[t]){var n=1/0,o=1/0,s=-1/0,a=-1/0,d=[],c=e&&e.pixelRatio||1;zrUtil.each(instances,function(c,l){if(c.group===t){var p=c.getRenderedCanvas(zrUtil.clone(e)),h=c.getDom().getBoundingClientRect();n=r(h.left,n),o=r(h.top,o),s=i(h.right,s),a=i(h.bottom,a),d.push({dom:p,left:h.left,top:h.top})}});var l=(s*=c)-(n*=c),p=(a*=c)-(o*=c),h=zrUtil.createCanvas();h.width=l,h.height=p;var u=zrender.init(h);return e.connectedBackgroundColor&&u.add(new graphic.Rect({shape:{x:0,y:0,width:l,height:p},style:{fill:e.connectedBackgroundColor}})),each(d,function(e){var t=new graphic.Image({style:{x:e.left*c-n,y:e.top*c-o,image:e.dom}});u.add(t)}),u.refreshImmediately(),h.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},echartsProto.convertToPixel=zrUtil.curry(doConvertPixel,"convertToPixel"),echartsProto.convertFromPixel=zrUtil.curry(doConvertPixel,"convertFromPixel"),echartsProto.containPixel=function(e,t){if(!this._disposed){var r,i=this._model;return e=modelUtil.parseFinder(i,e),zrUtil.each(e,function(e,i){i.indexOf("Models")>=0&&zrUtil.each(e,function(e){var n=e.coordinateSystem;if(n&&n.containPoint)r|=!!n.containPoint(t);else if("seriesModels"===i){var o=this._chartsMap[e.__viewId];o&&o.containPoint?r|=o.containPoint(t,e):__DEV__&&console.warn(i+": "+(o?"The found component do not support containPoint.":"No view mapping to the found component."))}else __DEV__&&console.warn(i+": containPoint is not supported")},this)},this),!!r}disposedWarning(this.id)},echartsProto.getVisual=function(e,t){var r=this._model,i=(e=modelUtil.parseFinder(r,e,{defaultMainType:"series"})).seriesModel;__DEV__&&(i||console.warn("There is no specified seires model"));var n=i.getData(),o=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null;return null!=o?n.getItemVisual(o,t):n.getVisual(t)},echartsProto.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},echartsProto.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var updateMethods={prepareAndUpdate:function(e){prepare(this),updateMethods.update.call(this,e)},update:function(e){var t=this._model,r=this._api,i=this._zr,n=this._coordSysMgr,o=this._scheduler;if(t){o.restoreData(t,e),o.performSeriesTasks(t),n.create(t,r),o.performDataProcessorTasks(t,e),updateStreamModes(this,t),n.update(t,r),clearColorPalette(t),o.performVisualTasks(t,e),render(this,t,r,e);var s=t.get("backgroundColor")||"transparent";if(env.canvasSupported)i.setBackgroundColor(s);else{var a=colorTool.parse(s);s=colorTool.stringify(a,"rgb"),0===a[3]&&(s="transparent")}performPostUpdateFuncs(t,r)}},updateTransform:function(e){var t=this._model,r=this,i=this._api;if(t){var n=[];t.eachComponent(function(o,s){var a=r.getViewOfComponentModel(s);if(a&&a.__alive)if(a.updateTransform){var d=a.updateTransform(s,t,i,e);d&&d.update&&n.push(a)}else n.push(a)});var o=zrUtil.createHashMap();t.eachSeries(function(n){var s=r._chartsMap[n.__viewId];if(s.updateTransform){var a=s.updateTransform(n,t,i,e);a&&a.update&&o.set(n.uid,1)}else o.set(n.uid,1)}),clearColorPalette(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:o}),renderSeries(r,t,i,e,o),performPostUpdateFuncs(t,this._api)}},updateView:function(e){var t=this._model;t&&(ChartView.markUpdateMethod(e,"updateView"),clearColorPalette(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),render(this,this._model,this._api,e),performPostUpdateFuncs(t,this._api))},updateVisual:function(e){updateMethods.update.call(this,e)},updateLayout:function(e){updateMethods.update.call(this,e)}};function prepare(e){var t=e._model,r=e._scheduler;r.restorePipelines(t),r.prepareStageTasks(),prepareView(e,"component",t,r),prepareView(e,"chart",t,r),r.plan()}function updateDirectly(e,t,r,i,n){var o=e._model;if(i){var s={};s[i+"Id"]=r[i+"Id"],s[i+"Index"]=r[i+"Index"],s[i+"Name"]=r[i+"Name"];var a={mainType:i,query:s};n&&(a.subType=n);var d=r.excludeSeriesId;null!=d&&(d=zrUtil.createHashMap(modelUtil.normalizeToArray(d))),o&&o.eachComponent(a,function(t){d&&null!=d.get(t.id)||c(e["series"===i?"_chartsMap":"_componentsMap"][t.__viewId])},e)}else each(e._componentsViews.concat(e._chartsViews),c);function c(i){i&&i.__alive&&i[t]&&i[t](i.__model,o,e._api,r)}}function updateStreamModes(e,t){var r=e._chartsMap,i=e._scheduler;t.eachSeries(function(e){i.updateStreamModes(e,r[e.__viewId])})}function doDispatchAction(e,t){var r=e.type,i=e.escapeConnect,n=actions[r],o=n.actionInfo,s=(o.update||"update").split(":"),a=s.pop();s=null!=s[0]&&parseClassType(s[0]),this[IN_MAIN_PROCESS]=!0;var d=[e],c=!1;e.batch&&(c=!0,d=zrUtil.map(e.batch,function(t){return(t=zrUtil.defaults(zrUtil.extend({},t),e)).batch=null,t}));var l,p=[],h="highlight"===r||"downplay"===r;each(d,function(e){(l=(l=n.action(e,this._model,this._api))||zrUtil.extend({},e)).type=o.event||l.type,p.push(l),h?updateDirectly(this,a,e,"series"):s&&updateDirectly(this,a,e,s.main,s.sub)},this),"none"===a||h||s||(this[OPTION_UPDATED]?(prepare(this),updateMethods.update.call(this,e),this[OPTION_UPDATED]=!1):updateMethods[a].call(this,e)),l=c?{type:o.event||r,escapeConnect:i,batch:p}:p[0],this[IN_MAIN_PROCESS]=!1,!t&&this._messageCenter.trigger(l.type,l)}function flushPendingActions(e){for(var t=this._pendingActions;t.length;){var r=t.shift();doDispatchAction.call(this,r,e)}}function triggerUpdatedEvent(e){!e&&this.trigger("updated")}function bindRenderedEvent(e,t){e.on("rendered",function(){t.trigger("rendered"),!e.animation.isFinished()||t[OPTION_UPDATED]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")})}function prepareView(e,t,r,i){for(var n="component"===t,o=n?e._componentsViews:e._chartsViews,s=n?e._componentsMap:e._chartsMap,a=e._zr,d=e._api,c=0;c<o.length;c++)o[c].__alive=!1;function l(e){var t="_ec_"+e.id+"_"+e.type,c=s[t];if(!c){var l=parseClassType(e.type),p=n?ComponentView.getClass(l.main,l.sub):ChartView.getClass(l.sub);__DEV__&&assert(p,l.sub+" does not exist."),(c=new p).init(r,d),s[t]=c,o.push(c),a.add(c.group)}e.__viewId=c.__id=t,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!n&&i.prepareView(c,e,r,d)}n?r.eachComponent(function(e,t){"series"!==e&&l(t)}):r.eachSeries(l);for(c=0;c<o.length;){var p=o[c];p.__alive?c++:(!n&&p.renderTask.dispose(),a.remove(p.group),p.dispose(r,d),o.splice(c,1),delete s[p.__id],p.__id=p.group.__ecComponentInfo=null)}}function clearColorPalette(e){e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()})}function render(e,t,r,i){renderComponents(e,t,r,i),each(e._chartsViews,function(e){e.__alive=!1}),renderSeries(e,t,r,i),each(e._chartsViews,function(e){e.__alive||e.remove(t,r)})}function renderComponents(e,t,r,i,n){each(n||e._componentsViews,function(e){var n=e.__model;e.render(n,t,r,i),updateZ(n,e)})}function renderSeries(e,t,r,i,n){var o,s=e._scheduler;t.eachSeries(function(t){var r=e._chartsMap[t.__viewId];r.__alive=!0;var a=r.renderTask;s.updatePayload(a,i),n&&n.get(t.uid)&&a.dirty(),o|=a.perform(s.getPerformArgs(a)),r.group.silent=!!t.get("silent"),updateZ(t,r),updateBlend(t,r)}),s.unfinished|=o,updateHoverLayerStatus(e,t),aria(e._zr.dom,t)}function performPostUpdateFuncs(e,t){each(postUpdateFuncs,function(r){r(e,t)})}echartsProto.resize=function(e){if(__DEV__&&assert(!this[IN_MAIN_PROCESS],"`resize` should not be called during main process."),this._disposed)disposedWarning(this.id);else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var r=t.resetOption("media"),i=e&&e.silent;this[IN_MAIN_PROCESS]=!0,r&&prepare(this),updateMethods.update.call(this),this[IN_MAIN_PROCESS]=!1,flushPendingActions.call(this,i),triggerUpdatedEvent.call(this,i)}}},echartsProto.showLoading=function(e,t){if(this._disposed)disposedWarning(this.id);else if(isObject(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),loadingEffects[e]){var r=loadingEffects[e](this._api,t),i=this._zr;this._loadingFX=r,i.add(r)}else __DEV__&&console.warn("Loading effects "+e+" not exists.")},echartsProto.hideLoading=function(){this._disposed?disposedWarning(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},echartsProto.makeActionFromEvent=function(e){var t=zrUtil.extend({},e);return t.type=eventActionMap[e.type],t},echartsProto.dispatchAction=function(e,t){this._disposed?disposedWarning(this.id):(isObject(t)||(t={silent:!!t}),actions[e.type]&&this._model&&(this[IN_MAIN_PROCESS]?this._pendingActions.push(e):(doDispatchAction.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,t.silent),triggerUpdatedEvent.call(this,t.silent))))},echartsProto.appendData=function(e){if(this._disposed)disposedWarning(this.id);else{var t=e.seriesIndex,r=this.getModel().getSeriesByIndex(t);__DEV__&&assert(e.data&&r),r.appendData(e),this._scheduler.unfinished=!0}},echartsProto.on=createRegisterEventWithLowercaseName("on",!1),echartsProto.off=createRegisterEventWithLowercaseName("off",!1),echartsProto.one=createRegisterEventWithLowercaseName("one",!1);var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(e){__DEV__&&console.warn("Instance "+e+" has been disposed")}function updateHoverLayerStatus(e,t){var r=e._zr.storage,i=0;r.traverse(function(e){i++}),i>t.get("hoverLayerThreshold")&&!env.node&&t.eachSeries(function(t){if(!t.preventUsingHoverLayer){var r=e._chartsMap[t.__viewId];r.__alive&&r.group.traverse(function(e){e.useHoverLayer=!0})}})}function updateBlend(e,t){var r=e.get("blendMode")||null;__DEV__&&!env.canvasSupported&&r&&"source-over"!==r&&console.warn("Only canvas support blendMode"),t.group.traverse(function(e){e.isGroup||e.style.blend!==r&&e.setStyle("blend",r),e.eachPendingDisplayable&&e.eachPendingDisplayable(function(e){e.setStyle("blend",r)})})}function updateZ(e,t){var r=e.get("z"),i=e.get("zlevel");t.group.traverse(function(e){"group"!==e.type&&(null!=r&&(e.z=r),null!=i&&(e.zlevel=i))})}function createExtensionAPI(e){var t=e._coordSysMgr;return zrUtil.extend(new ExtensionAPI(e),{getCoordinateSystems:zrUtil.bind(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var r=t.__ecComponentInfo;if(null!=r)return e._model.getComponent(r.mainType,r.index);t=t.parent}}})}function EventProcessor(){this.eventInfo}echartsProto._initEvents=function(){each(MOUSE_EVENT_NAMES,function(e){var t=function(t){var r,i=this.getModel(),n=t.target,o="globalout"===e;if(o)r={};else if(n&&null!=n.dataIndex){var s=n.dataModel||i.getSeriesByIndex(n.seriesIndex);r=s&&s.getDataParams(n.dataIndex,n.dataType,n)||{}}else n&&n.eventData&&(r=zrUtil.extend({},n.eventData));if(r){var a=r.componentType,d=r.componentIndex;"markLine"!==a&&"markPoint"!==a&&"markArea"!==a||(a="series",d=r.seriesIndex);var c=a&&null!=d&&i.getComponent(a,d),l=c&&this["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];__DEV__&&(o||c&&l||console.warn("model or view can not be found by params")),r.event=t,r.type=e,this._ecEventProcessor.eventInfo={targetEl:n,packedEvent:r,model:c,view:l},this.trigger(e,r)}};t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)},this),each(eventActionMap,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},echartsProto.isDisposed=function(){return this._disposed},echartsProto.clear=function(){this._disposed?disposedWarning(this.id):this.setOption({series:[]},!0)},echartsProto.dispose=function(){if(this._disposed)disposedWarning(this.id);else{this._disposed=!0,modelUtil.setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var e=this._api,t=this._model;each(this._componentsViews,function(r){r.dispose(t,e)}),each(this._chartsViews,function(r){r.dispose(t,e)}),this._zr.dispose(),delete instances[this.id]}},zrUtil.mixin(ECharts,Eventful),EventProcessor.prototype={constructor:EventProcessor,normalizeQuery:function(e){var t={},r={},i={};if(zrUtil.isString(e)){var n=parseClassType(e);t.mainType=n.main||null,t.subType=n.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};zrUtil.each(e,function(e,n){for(var a=!1,d=0;d<o.length;d++){var c=o[d],l=n.lastIndexOf(c);if(l>0&&l===n.length-c.length){var p=n.slice(0,l);"data"!==p&&(t.mainType=p,t[c.toLowerCase()]=e,a=!0)}}s.hasOwnProperty(n)&&(r[n]=e,a=!0),a||(i[n]=e)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},filter:function(e,t,r){var i=this.eventInfo;if(!i)return!0;var n=i.targetEl,o=i.packedEvent,s=i.model,a=i.view;if(!s||!a)return!0;var d=t.cptQuery,c=t.dataQuery;return l(d,s,"mainType")&&l(d,s,"subType")&&l(d,s,"index","componentIndex")&&l(d,s,"name")&&l(d,s,"id")&&l(c,o,"name")&&l(c,o,"dataIndex")&&l(c,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(e,t.otherQuery,n,o));function l(e,t,r,i){return null==e[r]||t[i||r]===e[r]}},afterTrigger:function(){this.eventInfo=null}};var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],postUpdateFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=new Date-0,groupIdBase=new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function enableConnect(e){var t="__connectUpdateStatus";function r(e,r){for(var i=0;i<e.length;i++){e[i][t]=r}}each(eventActionMap,function(i,n){e._messageCenter.on(n,function(i){if(connectedGroups[e.group]&&0!==e[t]){if(i&&i.escapeConnect)return;var n=e.makeActionFromEvent(i),o=[];each(instances,function(t){t!==e&&t.group===e.group&&o.push(t)}),r(o,0),each(o,function(e){1!==e[t]&&e.dispatchAction(n)}),r(o,2)}})})}export function init(e,t,r){if(__DEV__){if(zrender.version.replace(".","")-0<dependencies.zrender.replace(".","")-0)throw new Error("zrender/src "+zrender.version+" is too old for ECharts "+version+". Current version need ZRender "+dependencies.zrender+"+");if(!e)throw new Error("Initialize failed: invalid dom.")}var i=getInstanceByDom(e);if(i)return __DEV__&&console.warn("There is a chart instance already initialized on the dom."),i;__DEV__&&(!zrUtil.isDom(e)||"CANVAS"===e.nodeName.toUpperCase()||(e.clientWidth||r&&null!=r.width)&&(e.clientHeight||r&&null!=r.height)||console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload."));var n=new ECharts(e,t,r);return n.id="ec_"+idBase++,instances[n.id]=n,modelUtil.setAttribute(e,DOM_ATTRIBUTE_KEY,n.id),enableConnect(n),n}export function connect(e){if(zrUtil.isArray(e)){var t=e;e=null,each(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+groupIdBase++,each(t,function(t){t.group=e})}return connectedGroups[e]=!0,e}export function disConnect(e){connectedGroups[e]=!1}export var disconnect=disConnect;export function dispose(e){"string"==typeof e?e=instances[e]:e instanceof ECharts||(e=getInstanceByDom(e)),e instanceof ECharts&&!e.isDisposed()&&e.dispose()}export function getInstanceByDom(e){return instances[modelUtil.getAttribute(e,DOM_ATTRIBUTE_KEY)]}export function getInstanceById(e){return instances[e]}export function registerTheme(e,t){themeStorage[e]=t}export function registerPreprocessor(e){optionPreprocessorFuncs.push(e)}export function registerProcessor(e,t){normalizeRegister(dataProcessorFuncs,e,t,PRIORITY_PROCESSOR_FILTER)}export function registerPostUpdate(e){postUpdateFuncs.push(e)}export function registerAction(e,t,r){"function"==typeof t&&(r=t,t="");var i=isObject(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,assert(ACTION_REG.test(i)&&ACTION_REG.test(t)),actions[i]||(actions[i]={action:r,actionInfo:e}),eventActionMap[t]=i}export function registerCoordinateSystem(e,t){CoordinateSystemManager.register(e,t)}export function getCoordinateSystemDimensions(e){var t=CoordinateSystemManager.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}export function registerLayout(e,t){normalizeRegister(visualFuncs,e,t,PRIORITY_VISUAL_LAYOUT,"layout")}export function registerVisual(e,t){normalizeRegister(visualFuncs,e,t,PRIORITY_VISUAL_CHART,"visual")}function normalizeRegister(e,t,r,i,n){if((isFunction(t)||isObject(t))&&(r=t,t=i),__DEV__){if(isNaN(t)||null==t)throw new Error("Illegal priority");each(e,function(e){assert(e.__raw!==r)})}var o=Scheduler.wrapStageHandler(r,n);return o.__prio=t,o.__raw=r,e.push(o),o}export function registerLoading(e,t){loadingEffects[e]=t}export function extendComponentModel(e){return ComponentModel.extend(e)}export function extendComponentView(e){return ComponentView.extend(e)}export function extendSeriesModel(e){return SeriesModel.extend(e)}export function extendChartView(e){return ChartView.extend(e)}export function setCanvasCreator(e){zrUtil.$override("createCanvas",e)}export function registerMap(e,t,r){mapDataStorage.registerMap(e,t,r)}export function getMap(e){var t=mapDataStorage.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}}registerVisual(PRIORITY_VISUAL_GLOBAL,seriesColor),registerPreprocessor(backwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading("default",loadingDefault),registerAction({type:"highlight",event:"highlight",update:"highlight"},zrUtil.noop),registerAction({type:"downplay",event:"downplay",update:"downplay"},zrUtil.noop),registerTheme("light",lightTheme),registerTheme("dark",darkTheme);export var dataTool={};
//# sourceMappingURL=/sm/28adce4ac7f9ea56e210c789ab23e4e1f6d1feec208c5f04848bf9a2ca61b42a.map