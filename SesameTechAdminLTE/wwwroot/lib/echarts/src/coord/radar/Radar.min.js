/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/coord/radar/Radar.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import IndicatorAxis from"./IndicatorAxis";import IntervalScale from"../../scale/Interval";import*as numberUtil from"../../util/number";import{getScaleExtent,niceScaleExtent}from"../axisHelper";import CoordinateSystem from"../../CoordinateSystem";import LogScale from"../../scale/Log";function Radar(t,e,r){this._model=t,this.dimensions=[],this._indicatorAxes=zrUtil.map(t.getIndicatorModels(),function(t,e){var r="indicator_"+e,a=new IndicatorAxis(r,"log"===t.get("axisType")?new LogScale:new IntervalScale);return a.name=t.get("name"),a.model=t,t.axis=a,this.dimensions.push(r),a},this),this.resize(t,r),this.cx,this.cy,this.r,this.r0,this.startAngle}Radar.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Radar.prototype.dataToPoint=function(t,e){var r=this._indicatorAxes[e];return this.coordToPoint(r.dataToCoord(t),e)},Radar.prototype.coordToPoint=function(t,e){var r=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(r),this.cy-t*Math.sin(r)]},Radar.prototype.pointToData=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,a=Math.sqrt(e*e+r*r);e/=a,r/=a;for(var i,n=Math.atan2(-r,e),o=1/0,s=-1,c=0;c<this._indicatorAxes.length;c++){var l=this._indicatorAxes[c],d=Math.abs(n-l.angle);d<o&&(i=l,s=c,o=d)}return[s,+(i&&i.coordToData(a))]},Radar.prototype.resize=function(t,e){var r=t.get("center"),a=e.getWidth(),i=e.getHeight(),n=Math.min(a,i)/2;this.cx=numberUtil.parsePercent(r[0],a),this.cy=numberUtil.parsePercent(r[1],i),this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");"string"!=typeof o&&"number"!=typeof o||(o=[0,o]),this.r0=numberUtil.parsePercent(o[0],n),this.r=numberUtil.parsePercent(o[1],n),zrUtil.each(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var r=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;r=Math.atan2(Math.sin(r),Math.cos(r)),t.angle=r},this)},Radar.prototype.update=function(t,e){var r=this._indicatorAxes,a=this._model;zrUtil.each(r,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===a){var n=e.getData();zrUtil.each(r,function(t){t.scale.unionExtentFromData(n,n.mapDimension(t.dim))})}},this);var i=a.get("splitNumber");function n(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),r=t/e;return 2===r?r=5:r*=2,r*e}zrUtil.each(r,function(t,e){var r=getScaleExtent(t.scale,t.model);niceScaleExtent(t.scale,t.model);var a=t.model,o=t.scale,s=a.getMin(),c=a.getMax(),l=o.getInterval();if(null!=s&&null!=c)o.setExtent(+s,+c),o.setInterval((c-s)/i);else if(null!=s){var d;do{d=s+l*i,o.setExtent(+s,d),o.setInterval(l),l=n(l)}while(d<r[1]&&isFinite(d)&&isFinite(r[1]))}else if(null!=c){var h;do{h=c-l*i,o.setExtent(h,+c),o.setInterval(l),l=n(l)}while(h>r[0]&&isFinite(h)&&isFinite(r[0]))}else{o.getTicks().length-1>i&&(l=n(l));var m=Math.round((r[0]+r[1])/2/l)*l,u=Math.round(i/2);o.setExtent(numberUtil.round(m-u*l),numberUtil.round(m+(i-u)*l)),o.setInterval(l)}})},Radar.dimensions=[],Radar.create=function(t,e){var r=[];return t.eachComponent("radar",function(a){var i=new Radar(a,t,e);r.push(i),a.coordinateSystem=i}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("radarIndex")||0])}),r},CoordinateSystem.register("radar",Radar);export default Radar;
//# sourceMappingURL=/sm/8e4019d28fab76d632fd906c0def9819dad893d57625c4560fdaa59aaea24c69.map