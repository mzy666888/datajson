/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/coord/Axis.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{each,map}from"zrender/src/core/util";import{linearMap,getPixelPrecision,round}from"../util/number";import{createAxisTicks,createAxisLabels,calculateCategoryInterval}from"./axisTickLabelBuilder";var NORMALIZED_EXTENT=[0,1],Axis=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};function fixExtentWithBands(t,e){var i=(t[1]-t[0])/e/2;t[0]+=i,t[1]-=i}function fixOnBandTicksCoords(t,e,i,n){var o=e.length;if(t.onBand&&!i&&o){var r,a,c=t.getExtent();if(1===o)e[0].coord=c[0],r=e[1]={coord:c[0]};else{var s=e[o-1].tickValue-e[0].tickValue,l=(e[o-1].coord-e[0].coord)/s;each(e,function(t){t.coord-=l/2}),a=1+t.scale.getExtent()[1]-e[o-1].tickValue,r={coord:e[o-1].coord+l*a},e.push(r)}var u=c[0]>c[1];d(e[0].coord,c[0])&&(n?e[0].coord=c[0]:e.shift()),n&&d(c[0],e[0].coord)&&e.unshift({coord:c[0]}),d(c[1],r.coord)&&(n?r.coord=c[1]:e.pop()),n&&d(r.coord,c[1])&&e.push({coord:c[1]})}function d(t,e){return t=round(t),e=round(e),u?t>e:t<e}}Axis.prototype={constructor:Axis,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&t<=n},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&fixExtentWithBands(i=i.slice(),n.count()),linearMap(t,NORMALIZED_EXTENT,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&fixExtentWithBands(i=i.slice(),n.count());var o=linearMap(t,i,NORMALIZED_EXTENT,e);return this.scale.scale(o)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=createAxisTicks(this,e).ticks,n=map(i,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this);return fixOnBandTicksCoords(this,n,e.get("alignWithLabel"),t.clamp),n},getViewLabels:function(){return createAxisLabels(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return calculateCategoryInterval(this)}};export default Axis;
//# sourceMappingURL=/sm/73f394d4431a4015bb12275ad3d4032fc4fa11ca2a6bedab4722e6797192c1bf.map