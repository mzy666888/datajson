/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/coord/View.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import*as vector from"zrender/src/core/vector";import*as matrix from"zrender/src/core/matrix";import BoundingRect from"zrender/src/core/BoundingRect";import Transformable from"zrender/src/mixin/Transformable";var v2ApplyTransform=vector.applyTransform;function TransformDummy(){Transformable.call(this)}function View(r){this.name=r,this.zoomLimit,Transformable.call(this),this._roamTransformable=new TransformDummy,this._rawTransformable=new TransformDummy,this._center,this._zoom}function doConvert(r,t,n,o){var e=n.seriesModel,i=e?e.coordinateSystem:null;return i===this?i[r](o):null}zrUtil.mixin(TransformDummy,Transformable),View.prototype={constructor:View,type:"view",dimensions:["x","y"],setBoundingRect:function(r,t,n,o){return this._rect=new BoundingRect(r,t,n,o),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(r,t,n,o){this.transformTo(r,t,n,o),this._viewRect=new BoundingRect(r,t,n,o)},transformTo:function(r,t,n,o){var e=this.getBoundingRect(),i=this._rawTransformable;i.transform=e.calculateTransform(new BoundingRect(r,t,n,o)),i.decomposeTransform(),this._updateTransform()},setCenter:function(r){r&&(this._center=r,this._updateCenterAndZoom())},setZoom:function(r){r=r||1;var t=this.zoomLimit;t&&(null!=t.max&&(r=Math.min(t.max,r)),null!=t.min&&(r=Math.max(t.min,r))),this._zoom=r,this._updateCenterAndZoom()},getDefaultCenter:function(){var r=this.getBoundingRect();return[r.x+r.width/2,r.y+r.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var r=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),o=this.getCenter(),e=this.getZoom();o=vector.applyTransform([],o,r),n=vector.applyTransform([],n,r),t.origin=o,t.position=[n[0]-o[0],n[1]-o[1]],t.scale=[e,e],this._updateTransform()},_updateTransform:function(){var r=this._roamTransformable,t=this._rawTransformable;t.parent=r,r.updateTransform(),t.updateTransform(),matrix.copy(this.transform||(this.transform=[]),t.transform||matrix.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],matrix.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},dataToPoint:function(r,t,n){var o=t?this._rawTransform:this.transform;return n=n||[],o?v2ApplyTransform(n,r,o):vector.copy(n,r)},pointToData:function(r){var t=this.invTransform;return t?v2ApplyTransform([],r,t):[r[0],r[1]]},convertToPixel:zrUtil.curry(doConvert,"dataToPoint"),convertFromPixel:zrUtil.curry(doConvert,"pointToData"),containPoint:function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])}},zrUtil.mixin(View,Transformable);export default View;
//# sourceMappingURL=/sm/1af62513fa98446e8024121251604e8ae52add0f81884ceffe5586f80b86b6c3.map