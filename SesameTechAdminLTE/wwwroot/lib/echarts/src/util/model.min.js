/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/util/model.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import env from"zrender/src/core/env";var each=zrUtil.each,isObject=zrUtil.isObject,isArray=zrUtil.isArray,DUMMY_COMPONENT_NAME_PREFIX="series\0";export function normalizeToArray(e){return e instanceof Array?e:null==e?[]:[e]}export function defaultEmphasis(e,n,t){if(e){e[n]=e[n]||{},e.emphasis=e.emphasis||{},e.emphasis[n]=e.emphasis[n]||{};for(var r=0,i=t.length;r<i;r++){var a=t[r];!e.emphasis[n].hasOwnProperty(a)&&e[n].hasOwnProperty(a)&&(e.emphasis[n][a]=e[n][a])}}}export var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];export function getDataItemValue(e){return!isObject(e)||isArray(e)||e instanceof Date?e:e.value}export function isDataItemOption(e){return isObject(e)&&!(e instanceof Array)}export function mappingToExists(e,n){n=(n||[]).slice();var t=zrUtil.map(e||[],function(e,n){return{exist:e}});return each(n,function(e,r){if(isObject(e)){for(var i=0;i<t.length;i++)if(!t[i].option&&null!=e.id&&t[i].exist.id===e.id+"")return t[i].option=e,void(n[r]=null);for(i=0;i<t.length;i++){var a=t[i].exist;if(!(t[i].option||null!=a.id&&null!=e.id||null==e.name||isIdInner(e)||isIdInner(a)||a.name!==e.name+""))return t[i].option=e,void(n[r]=null)}}}),each(n,function(e,n){if(isObject(e)){for(var r=0;r<t.length;r++){var i=t[r].exist;if(!t[r].option&&!isIdInner(i)&&null==e.id){t[r].option=e;break}}r>=t.length&&t.push({option:e})}}),t}export function makeIdAndName(e){var n=zrUtil.createHashMap();each(e,function(e,t){var r=e.exist;r&&n.set(r.id,e)}),each(e,function(e,t){var r=e.option;zrUtil.assert(!r||null==r.id||!n.get(r.id)||n.get(r.id)===e,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&n.set(r.id,e),!e.keyInfo&&(e.keyInfo={})}),each(e,function(e,t){var r=e.exist,i=e.option,a=e.keyInfo;if(isObject(i)){if(a.name=null!=i.name?i.name+"":r?r.name:DUMMY_COMPONENT_NAME_PREFIX+t,r)a.id=r.id;else if(null!=i.id)a.id=i.id+"";else{var o=0;do{a.id="\0"+a.name+"\0"+o++}while(n.get(a.id))}n.set(a.id,e)}})}export function isNameSpecified(e){var n=e.name;return!(!n||!n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}export function isIdInner(e){return isObject(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}export function compressBatches(e,n){var t={},r={};return i(e||[],t),i(n||[],r,t),[a(t),a(r)];function i(e,n,t){for(var r=0,i=e.length;r<i;r++)for(var a=e[r].seriesId,o=normalizeToArray(e[r].dataIndex),d=t&&t[a],s=0,u=o.length;s<u;s++){var l=o[s];d&&d[l]?d[l]=null:(n[a]||(n[a]={}))[l]=1}}function a(e,n){var t=[];for(var r in e)if(e.hasOwnProperty(r)&&null!=e[r])if(n)t.push(+r);else{var i=a(e[r],!0);i.length&&t.push({seriesId:r,dataIndex:i})}return t}}export function queryDataIndex(e,n){return null!=n.dataIndexInside?n.dataIndexInside:null!=n.dataIndex?zrUtil.isArray(n.dataIndex)?zrUtil.map(n.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(n.dataIndex):null!=n.name?zrUtil.isArray(n.name)?zrUtil.map(n.name,function(n){return e.indexOfName(n)}):e.indexOfName(n.name):void 0}export function makeInner(){var e="__\0ec_inner_"+innerUniqueIndex+++"_"+Math.random().toFixed(5);return function(n){return n[e]||(n[e]={})}}var innerUniqueIndex=0;export function parseFinder(e,n,t){if(zrUtil.isString(n)){var r={};r[n+"Index"]=0,n=r}var i=t&&t.defaultMainType;!i||has(n,i+"Index")||has(n,i+"Id")||has(n,i+"Name")||(n[i+"Index"]=0);var a={};return each(n,function(r,i){r=n[i];if("dataIndex"!==i&&"dataIndexInside"!==i){var o=i.match(/^(\w+)(Index|Id|Name)$/)||[],d=o[1],s=(o[2]||"").toLowerCase();if(!(!d||!s||null==r||"index"===s&&"none"===r||t&&t.includeMainTypes&&zrUtil.indexOf(t.includeMainTypes,d)<0)){var u={mainType:d};"index"===s&&"all"===r||(u[s]=r);var l=e.queryComponents(u);a[d+"Models"]=l,a[d+"Model"]=l[0]}}else a[i]=r}),a}function has(e,n){return e&&e.hasOwnProperty(n)}export function setAttribute(e,n,t){e.setAttribute?e.setAttribute(n,t):e[n]=t}export function getAttribute(e,n){return e.getAttribute?e.getAttribute(n):e[n]}export function getTooltipRenderMode(e){return"auto"===e?env.domSupported?"html":"richText":e||"html"}export function groupData(e,n){var t=zrUtil.createHashMap(),r=[];return zrUtil.each(e,function(e){var i=n(e);(t.get(i)||(r.push(i),t.set(i,[]))).push(e)}),{keys:r,buckets:t}}
//# sourceMappingURL=/sm/4da7e3a093e0d29a3192cb23591dd1eab8d5e550cb488fcd0e3dc83736a47b2f.map