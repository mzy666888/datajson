/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/processor/dataStack.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{createHashMap,each}from"zrender/src/core/util";export default function(e){var a=createHashMap();e.eachSeries(function(e){var t=e.get("stack");if(t){var n=a.get(t)||a.set(t,[]),i=e.getData(),s={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!s.stackedDimension||!s.isStackedByIndex&&!s.stackedByDimension)return;n.length&&i.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(s)}}),a.each(calculateStack)}function calculateStack(e){each(e,function(a,t){var n=[],i=[NaN,NaN],s=[a.stackResultDimension,a.stackedOverDimension],c=a.data,o=a.isStackedByIndex,d=c.map(s,function(s,d,r){var l,k,u=c.get(a.stackedDimension,r);if(isNaN(u))return i;o?k=c.getRawIndex(r):l=c.get(a.stackedByDimension,r);for(var f=NaN,m=t-1;m>=0;m--){var D=e[m];if(o||(k=D.data.rawIndexOf(D.stackedByDimension,l)),k>=0){var g=D.data.getByRawIndex(D.stackResultDimension,k);if(u>=0&&g>0||u<=0&&g<0){u+=g,f=g;break}}}return n[0]=u,n[1]=f,n});c.hostModel.setData(d),a.data=d})}
//# sourceMappingURL=/sm/1f4b3643b53a5b3877dd726e3b4f7dbf36601c5a329d32278ee988038999a03f.map