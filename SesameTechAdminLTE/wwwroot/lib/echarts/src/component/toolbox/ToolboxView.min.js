/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/component/toolbox/ToolboxView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as echarts from"../../echarts";import*as zrUtil from"zrender/src/core/util";import*as textContain from"zrender/src/contain/text";import*as featureManager from"./featureManager";import*as graphic from"../../util/graphic";import Model from"../../model/Model";import DataDiffer from"../../data/DataDiffer";import*as listComponentHelper from"../helper/listComponent";export default echarts.extendComponentView({type:"toolbox",render:function(t,e,o,i){var r=this.group;if(r.removeAll(),t.get("show")){var n=+t.get("itemSize"),a=t.get("feature")||{},l=this._features||(this._features={}),s=[];zrUtil.each(a,function(t,e){s.push(e)}),new DataDiffer(this._featureNames||[],s).add(u).update(u).remove(zrUtil.curry(u,null)).execute(),this._featureNames=s,listComponentHelper.layout(r,t,o),r.add(listComponentHelper.makeBackground(r.getBoundingRect(),t)),r.eachChild(function(t){var e=t.__title,i=t.hoverStyle;if(i&&e){var a=textContain.getBoundingRect(e,textContain.makeFont(i)),l=t.position[0]+r.position[0],s=!1;t.position[1]+r.position[1]+n+a.height>o.getHeight()&&(i.textPosition="top",s=!0);var u=s?-5-a.height:n+8;l+a.width/2>o.getWidth()?(i.textPosition=["100%",u],i.textAlign="right"):l-a.width/2<0&&(i.textPosition=[0,u],i.textAlign="left")}})}function u(u,c){var g,f=s[u],m=s[c],d=a[f],p=new Model(d,t,t.ecModel);if(f&&!m){if(isUserFeatureName(f))g={model:p,onclick:p.option.onclick,featureName:f};else{var h=featureManager.get(f);if(!h)return;g=new h(p,e,o)}l[f]=g}else{if(!(g=l[m]))return;g.model=p,g.ecModel=e,g.api=o}f||!m?p.get("show")&&!g.unusable?(!function(i,a,l){var s=i.getModel("iconStyle"),u=i.getModel("emphasis.iconStyle"),c=a.getIcons?a.getIcons():i.get("icon"),g=i.get("title")||{};if("string"==typeof c){var f=c,m=g;g={},(c={})[l]=f,g[l]=m}var d=i.iconPaths={};zrUtil.each(c,function(l,c){var f=graphic.createIcon(l,{},{x:-n/2,y:-n/2,width:n,height:n});f.setStyle(s.getItemStyle()),f.hoverStyle=u.getItemStyle(),f.setStyle({text:g[c],textAlign:u.get("textAlign"),textBorderRadius:u.get("textBorderRadius"),textPadding:u.get("textPadding"),textFill:null});var m=t.getModel("tooltip");m&&m.get("show")&&f.attr("tooltip",zrUtil.extend({content:g[c],formatter:m.get("formatter",!0)||function(){return g[c]},formatterParams:{componentType:"toolbox",name:c,title:g[c],$vars:["name","title"]},position:m.get("position",!0)||"bottom"},m.option)),graphic.setHoverStyle(f),t.get("showTitle")&&(f.__title=g[c],f.on("mouseover",function(){var e=u.getItemStyle(),o="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";f.setStyle({textFill:u.get("textFill")||e.fill||e.stroke||"#000",textBackgroundColor:u.get("textBackgroundColor"),textPosition:u.get("textPosition")||o})}).on("mouseout",function(){f.setStyle({textFill:null,textBackgroundColor:null})})),f.trigger(i.get("iconStatus."+c)||"normal"),r.add(f),f.on("click",zrUtil.bind(a.onclick,a,e,o,c)),d[c]=f})}(p,g,f),p.setIconStatus=function(t,e){var o=this.option,i=this.iconPaths;o.iconStatus=o.iconStatus||{},o.iconStatus[t]=e,i[t]&&i[t].trigger(e)},g.render&&g.render(p,e,o,i)):g.remove&&g.remove(e,o):g.dispose&&g.dispose(e,o)}},updateView:function(t,e,o,i){zrUtil.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,o,i)})},remove:function(t,e){zrUtil.each(this._features,function(o){o.remove&&o.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){zrUtil.each(this._features,function(o){o.dispose&&o.dispose(t,e)})}});function isUserFeatureName(t){return 0===t.indexOf("my")}
//# sourceMappingURL=/sm/9f50b96815aa8571ef5db90c1204140018829f3a9aae4d01977e37b3ae60c288.map