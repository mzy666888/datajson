/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/component/toolbox/feature/SaveAsImage.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import env from"zrender/src/core/env";import lang from"../../../lang";import*as featureManager from"../featureManager";var saveAsImageLang=lang.toolbox.saveAsImage;function SaveAsImage(e){this.model=e}SaveAsImage.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:saveAsImageLang.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:saveAsImageLang.lang.slice()},SaveAsImage.prototype.unusable=!env.canvasSupported;var proto=SaveAsImage.prototype;proto.onclick=function(e,a){var o=this.model,t=o.get("name")||e.get("title.0.text")||"echarts",n=o.get("type",!0)||"png",r=a.getConnectedDataURL({type:n,backgroundColor:o.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")});if("function"!=typeof MouseEvent||env.browser.ie||env.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var g=atob(r.split(",")[1]),l=g.length,s=new Uint8Array(l);l--;)s[l]=g.charCodeAt(l);var i=new Blob([s]);window.navigator.msSaveOrOpenBlob(i,t+"."+n)}else{var c=o.get("lang"),d='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(c&&c[0]||"")+'" /></body>';window.open().document.write(d)}else{var v=document.createElement("a");v.download=t+"."+n,v.target="_blank",v.href=r;var m=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});v.dispatchEvent(m)}},featureManager.register("saveAsImage",SaveAsImage);export default SaveAsImage;
//# sourceMappingURL=/sm/3fd48bfed099312f5ec04950ac21c647591a7dc1f6c8e9c267a27ebdedb1f25a.map