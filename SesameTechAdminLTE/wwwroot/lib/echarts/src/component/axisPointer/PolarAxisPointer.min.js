/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/component/axisPointer/PolarAxisPointer.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as formatUtil from"../../util/format";import BaseAxisPointer from"./BaseAxisPointer";import*as graphic from"../../util/graphic";import*as viewHelper from"./viewHelper";import*as matrix from"zrender/src/core/matrix";import AxisBuilder from"../axis/AxisBuilder";import AxisView from"../axis/AxisView";var PolarAxisPointer=BaseAxisPointer.extend({makeElOption:function(e,t,i,r,a){var o=i.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var n,l=o.polar,s=l.getOtherAxis(o).getExtent();n=o["dataTo"+formatUtil.capitalFirst(o.dim)](t);var p=r.get("type");if(p&&"none"!==p){var x=viewHelper.buildElStyle(r),m=pointerShapeBuilder[p](o,l,n,s,x);m.style=x,e.graphicKey=m.type,e.pointer=m}var c=r.get("label.margin"),d=getLabelPosition(t,i,r,l,c);viewHelper.buildLabelElOption(e,i,r,a,d)}});function getLabelPosition(e,t,i,r,a){var o=t.axis,n=o.dataToCoord(e),l=r.getAngleAxis().getExtent()[0];l=l/180*Math.PI;var s,p,x,m=r.getRadiusAxis().getExtent();if("radius"===o.dim){var c=matrix.create();matrix.rotate(c,c,l),matrix.translate(c,c,[r.cx,r.cy]),s=graphic.applyTransform([n,-a],c);var d=t.getModel("axisLabel").get("rotate")||0,g=AxisBuilder.innerTextLayout(l,d*Math.PI/180,-1);p=g.textAlign,x=g.textVerticalAlign}else{var h=m[1];s=r.coordToPoint([h+a,n]);var v=r.cx,P=r.cy;p=Math.abs(s[0]-v)/h<.3?"center":s[0]>v?"left":"right",x=Math.abs(s[1]-P)/h<.3?"middle":s[1]>P?"top":"bottom"}return{position:s,align:p,verticalAlign:x}}var pointerShapeBuilder={line:function(e,t,i,r,a){return"angle"===e.dim?{type:"Line",shape:viewHelper.makeLineShape(t.coordToPoint([r[0],i]),t.coordToPoint([r[1],i]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:i}}},shadow:function(e,t,i,r,a){var o=Math.max(1,e.getBandWidth()),n=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:viewHelper.makeSectorShape(t.cx,t.cy,r[0],r[1],(-i-o/2)*n,(o/2-i)*n)}:{type:"Sector",shape:viewHelper.makeSectorShape(t.cx,t.cy,i-o/2,i+o/2,0,2*Math.PI)}}};AxisView.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer);export default PolarAxisPointer;
//# sourceMappingURL=/sm/a7ba0c7f833757cbef91c64f113d29ae2c99089d1f5abb303f7005eb565b2a65.map