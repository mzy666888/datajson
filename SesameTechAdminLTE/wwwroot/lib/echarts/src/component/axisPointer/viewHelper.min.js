/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/component/axisPointer/viewHelper.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import*as graphic from"../../util/graphic";import*as textContain from"zrender/src/contain/text";import*as formatUtil from"../../util/format";import*as matrix from"zrender/src/core/matrix";import*as axisHelper from"../../coord/axisHelper";import AxisBuilder from"../axis/AxisBuilder";export function buildElStyle(e){var t,i=e.get("type"),r=e.getModel(i+"Style");return"line"===i?(t=r.getLineStyle()).fill=null:"shadow"===i&&((t=r.getAreaStyle()).stroke=null),t}export function buildLabelElOption(e,t,i,r,a){var o=getValueLabel(i.get("value"),t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),n=i.getModel("label"),l=formatUtil.normalizeCssArray(n.get("padding")||0),s=n.getFont(),g=textContain.getBoundingRect(o,s),d=a.position,c=g.width+l[1]+l[3],x=g.height+l[0]+l[2],p=a.align;"right"===p&&(d[0]-=c),"center"===p&&(d[0]-=c/2);var u=a.verticalAlign;"bottom"===u&&(d[1]-=x),"middle"===u&&(d[1]-=x/2),confineInContainer(d,c,x,r);var m=n.get("backgroundColor");m&&"auto"!==m||(m=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:c,height:x,r:n.get("borderRadius")},position:d.slice(),style:{text:o,textFont:s,textFill:n.getTextColor(),textPosition:"inside",textPadding:l,fill:m,stroke:n.get("borderColor")||"transparent",lineWidth:n.get("borderWidth")||0,shadowBlur:n.get("shadowBlur"),shadowColor:n.get("shadowColor"),shadowOffsetX:n.get("shadowOffsetX"),shadowOffsetY:n.get("shadowOffsetY")},z2:10}}function confineInContainer(e,t,i,r){var a=r.getWidth(),o=r.getHeight();e[0]=Math.min(e[0]+t,a)-t,e[1]=Math.min(e[1]+i,o)-i,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}export function getValueLabel(e,t,i,r,a){e=t.scale.parse(e);var o=t.scale.getLabel(e,{precision:a.precision}),n=a.formatter;if(n){var l={value:axisHelper.getAxisRawValue(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};zrUtil.each(r,function(e){var t=i.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,a=t&&t.getDataParams(r);a&&l.seriesData.push(a)}),zrUtil.isString(n)?o=n.replace("{value}",o):zrUtil.isFunction(n)&&(o=n(l))}return o}export function getTransformedPosition(e,t,i){var r=matrix.create();return matrix.rotate(r,r,i.rotation),matrix.translate(r,r,i.position),graphic.applyTransform([e.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],r)}export function buildCartesianSingleLabelElOption(e,t,i,r,a,o){var n=AxisBuilder.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=a.get("label.margin"),buildLabelElOption(t,r,a,o,{position:getTransformedPosition(r.axis,e,i),align:n.textAlign,verticalAlign:n.textVerticalAlign})}export function makeLineShape(e,t,i){return{x1:e[i=i||0],y1:e[1-i],x2:t[i],y2:t[1-i]}}export function makeRectShape(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}}export function makeSectorShape(e,t,i,r,a,o){return{cx:e,cy:t,r0:i,r:r,startAngle:a,endAngle:o,clockwise:!0}}
//# sourceMappingURL=/sm/8575b235c214c6b56a9977c291eea826d7b47d7e940230504b501457b10ac7ea.map