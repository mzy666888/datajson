/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/component/dataZoom/InsideZoomView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import DataZoomView from"./DataZoomView";import sliderMove from"../helper/sliderMove";import*as roams from"./roams";var bind=zrUtil.bind,InsideZoomView=DataZoomView.extend({type:"dataZoom.inside",init:function(e,i){this._range},render:function(e,i,t,o){InsideZoomView.superApply(this,"render",arguments),this._range=e.getPercentRange(),zrUtil.each(this.getTargetCoordInfo(),function(i,o){var n=zrUtil.map(i,function(e){return roams.generateCoordId(e.model)});zrUtil.each(i,function(i){var r=i.model,a={};zrUtil.each(["pan","zoom","scrollMove"],function(e){a[e]=bind(roamHandlers[e],this,i,o)},this),roams.register(t,{coordId:roams.generateCoordId(r),allCoordIds:n,containsPoint:function(e,i,t){return r.coordinateSystem.containPoint([i,t])},dataZoomId:e.id,dataZoomModel:e,getRange:a})},this)},this)},dispose:function(){roams.unregister(this.api,this.dataZoomModel.id),InsideZoomView.superApply(this,"dispose",arguments),this._range=null}}),roamHandlers={zoom:function(e,i,t,o){var n=this._range,r=n.slice(),a=e.axisModels[0];if(a){var l=getDirectionInfo[i](null,[o.originX,o.originY],a,t,e),s=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(r[1]-r[0])+r[0],d=Math.max(1/o.scale,0);r[0]=(r[0]-s)*d+s,r[1]=(r[1]-s)*d+s;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return sliderMove(0,r,[0,100],0,g.minSpan,g.maxSpan),this._range=r,n[0]!==r[0]||n[1]!==r[1]?r:void 0}},pan:makeMover(function(e,i,t,o,n,r){var a=getDirectionInfo[o]([r.oldX,r.oldY],[r.newX,r.newY],i,n,t);return a.signal*(e[1]-e[0])*a.pixel/a.pixelLength}),scrollMove:makeMover(function(e,i,t,o,n,r){return getDirectionInfo[o]([0,0],[r.scrollDelta,r.scrollDelta],i,n,t).signal*(e[1]-e[0])*r.scrollDelta})};function makeMover(e){return function(i,t,o,n){var r=this._range,a=r.slice(),l=i.axisModels[0];if(l){var s=e(a,l,i,t,o,n);return sliderMove(s,a,[0,100],"all"),this._range=a,r[0]!==a[0]||r[1]!==a[1]?a:void 0}}}var getDirectionInfo={grid:function(e,i,t,o,n){var r=t.axis,a={},l=n.model.coordinateSystem.getRect();return e=e||[0,0],"x"===r.dim?(a.pixel=i[0]-e[0],a.pixelLength=l.width,a.pixelStart=l.x,a.signal=r.inverse?1:-1):(a.pixel=i[1]-e[1],a.pixelLength=l.height,a.pixelStart=l.y,a.signal=r.inverse?-1:1),a},polar:function(e,i,t,o,n){var r=t.axis,a={},l=n.model.coordinateSystem,s=l.getRadiusAxis().getExtent(),d=l.getAngleAxis().getExtent();return e=e?l.pointToCoord(e):[0,0],i=l.pointToCoord(i),"radiusAxis"===t.mainType?(a.pixel=i[0]-e[0],a.pixelLength=s[1]-s[0],a.pixelStart=s[0],a.signal=r.inverse?1:-1):(a.pixel=i[1]-e[1],a.pixelLength=d[1]-d[0],a.pixelStart=d[0],a.signal=r.inverse?-1:1),a},singleAxis:function(e,i,t,o,n){var r=t.axis,a=n.model.coordinateSystem.getRect(),l={};return e=e||[0,0],"horizontal"===r.orient?(l.pixel=i[0]-e[0],l.pixelLength=a.width,l.pixelStart=a.x,l.signal=r.inverse?1:-1):(l.pixel=i[1]-e[1],l.pixelLength=a.height,l.pixelStart=a.y,l.signal=r.inverse?-1:1),l}};export default InsideZoomView;
//# sourceMappingURL=/sm/1dd825ffd054c70ea838f27a471f46199947f9ed59fa3db2d5689f653a108320.map