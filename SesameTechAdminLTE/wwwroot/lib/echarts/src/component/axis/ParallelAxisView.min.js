/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/component/axis/ParallelAxisView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as echarts from"../../echarts";import*as zrUtil from"zrender/src/core/util";import AxisBuilder from"./AxisBuilder";import BrushController from"../helper/BrushController";import*as brushHelper from"../helper/brushHelper";import*as graphic from"../../util/graphic";var elementList=["axisLine","axisTickLabel","axisName"],AxisView=echarts.extendComponentView({type:"parallelAxis",init:function(e,r){AxisView.superApply(this,"init",arguments),(this._brushController=new BrushController(r.getZr())).on("brush",zrUtil.bind(this._onBrush,this))},render:function(e,r,t,i){if(!fromAxisAreaSelect(e,r,i)){this.axisModel=e,this.api=t,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new graphic.Group,this.group.add(this._axisGroup),e.get("show")){var s=getCoordSysModel(e,r),a=s.coordinateSystem,n=e.getAreaSelectStyle(),l=n.width,h=e.axis.dim,p=a.getAxisLayout(h),u=zrUtil.extend({strokeContainThreshold:l},p),d=new AxisBuilder(e,u);zrUtil.each(elementList,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(u,n,e,s,l,t);var c=i&&!1===i.animation?null:e;graphic.groupTransition(o,this._axisGroup,c)}}},_refreshBrushController:function(e,r,t,i,o,s){var a=t.axis.getExtent(),n=a[1]-a[0],l=Math.min(30,.1*Math.abs(n)),h=graphic.BoundingRect.create({x:a[0],y:-o/2,width:n,height:o});h.x-=l,h.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:brushHelper.makeRectPanelClipPath(h),isTargetByCursor:brushHelper.makeRectIsTargetByCursor(h,s,i),getLinearBrushOtherExtent:brushHelper.makeLinearBrushOtherExtent(h,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(getCoverInfoList(t))},_onBrush:function(e,r){var t=this.axisModel,i=t.axis,o=zrUtil.map(e,function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]});(!t.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:t.id,intervals:o})},dispose:function(){this._brushController.dispose()}});function fromAxisAreaSelect(e,r,t){return t&&"axisAreaSelect"===t.type&&r.findComponents({mainType:"parallelAxis",query:t})[0]===e}function getCoverInfoList(e){var r=e.axis;return zrUtil.map(e.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[r.dataToCoord(e[0],!0),r.dataToCoord(e[1],!0)]}})}function getCoordSysModel(e,r){return r.getComponent("parallel",e.get("parallelIndex"))}export default AxisView;
//# sourceMappingURL=/sm/7a25aeebf4f148cc208a94c7cb832989f572febd9dd0376d126b56b63d4b516d.map