/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/component/axis/AngleAxisView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import*as graphic from"../../util/graphic";import Model from"../../model/Model";import AxisView from"./AxisView";import AxisBuilder from"./AxisBuilder";var elementList=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function getAxisLineShape(e,t,i){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],i]),a=e.coordToPoint([t[1],i]);return{x1:r[0],y1:r[1],x2:a[0],y2:a[1]}}function getRadiusIdx(e){return e.getRadiusAxis().inverse?0:1}function fixAngleOverlap(e){var t=e[0],i=e[e.length-1];t&&i&&Math.abs(Math.abs(t.coord-i.coord)-360)<1e-4&&e.pop()}export default AxisView.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var i=e.axis,r=i.polar,a=r.getRadiusAxis().getExtent(),l=i.getTicksCoords(),n=zrUtil.map(i.getViewLabels(),function(e){return(e=zrUtil.clone(e)).coord=i.dataToCoord(e.tickValue),e});fixAngleOverlap(n),fixAngleOverlap(l),zrUtil.each(elementList,function(t){!e.get(t+".show")||i.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,r,l,a,n)},this)}},_axisLine:function(e,t,i,r){var a,l=e.getModel("axisLine.lineStyle"),n=getRadiusIdx(t),o=n?0:1;(a=0===r[o]?new graphic.Circle({shape:{cx:t.cx,cy:t.cy,r:r[n]},style:l.getLineStyle(),z2:1,silent:!0}):new graphic.Ring({shape:{cx:t.cx,cy:t.cy,r:r[n],r0:r[o]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(a)},_axisTick:function(e,t,i,r){var a=e.getModel("axisTick"),l=(a.get("inside")?-1:1)*a.get("length"),n=r[getRadiusIdx(t)],o=zrUtil.map(i,function(e){return new graphic.Line({shape:getAxisLineShape(t,[n,n+l],e.coord)})});this.group.add(graphic.mergePath(o,{style:zrUtil.defaults(a.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,t,i,r,a){var l=e.getCategories(!0),n=e.getModel("axisLabel"),o=n.get("margin"),s=e.get("triggerEvent");zrUtil.each(a,function(i,a){var g=n,c=i.tickValue,d=r[getRadiusIdx(t)],x=t.coordToPoint([d+o,i.coord]),h=t.cx,p=t.cy,u=Math.abs(x[0]-h)/d<.3?"center":x[0]>h?"left":"right",f=Math.abs(x[1]-p)/d<.3?"middle":x[1]>p?"top":"bottom";l&&l[c]&&l[c].textStyle&&(g=new Model(l[c].textStyle,n,n.ecModel));var y=new graphic.Text({silent:AxisBuilder.isLabelSilent(e)});this.group.add(y),graphic.setTextStyle(y.style,g,{x:x[0],y:x[1],textFill:g.getTextColor()||e.get("axisLine.lineStyle.color"),text:i.formattedLabel,textAlign:u,textVerticalAlign:f}),s&&(y.eventData=AxisBuilder.makeAxisEventDataBase(e),y.eventData.targetType="axisLabel",y.eventData.value=i.rawLabel)},this)},_splitLine:function(e,t,i,r){var a=e.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),n=0;l=l instanceof Array?l:[l];for(var o=[],s=0;s<i.length;s++){var g=n++%l.length;o[g]=o[g]||[],o[g].push(new graphic.Line({shape:getAxisLineShape(t,r,i[s].coord)}))}for(s=0;s<o.length;s++)this.group.add(graphic.mergePath(o[s],{style:zrUtil.defaults({stroke:l[s%l.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(e,t,i,r){if(i.length){var a=e.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),n=0;l=l instanceof Array?l:[l];for(var o=[],s=Math.PI/180,g=-i[0].coord*s,c=Math.min(r[0],r[1]),d=Math.max(r[0],r[1]),x=e.get("clockwise"),h=1;h<i.length;h++){var p=n++%l.length;o[p]=o[p]||[],o[p].push(new graphic.Sector({shape:{cx:t.cx,cy:t.cy,r0:c,r:d,startAngle:g,endAngle:-i[h].coord*s,clockwise:x},silent:!0})),g=-i[h].coord*s}for(h=0;h<o.length;h++)this.group.add(graphic.mergePath(o[h],{style:zrUtil.defaults({fill:l[h%l.length]},a.getAreaStyle()),silent:!0}))}}});
//# sourceMappingURL=/sm/f708a0e6ca0d02289e3eeaa372c05ff3826e01e168afbbf80935425613a25751.map