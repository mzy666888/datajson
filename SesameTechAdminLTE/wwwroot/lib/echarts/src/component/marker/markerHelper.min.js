/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/component/marker/markerHelper.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import*as numberUtil from"../../util/number";import{isDimensionStacked}from"../../data/helper/dataStackHelper";var indexOf=zrUtil.indexOf;function hasXOrY(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function hasXAndY(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function markerTypeCalculatorWithExtent(a,e,i,r,t,n){var o=[],s=isDimensionStacked(e,r)?e.getCalculationInfo("stackResultDimension"):r,l=numCalculate(e,s,a),u=e.indicesOfNearest(s,l)[0];o[t]=e.get(i,u),o[n]=e.get(r,u);var m=numberUtil.getPrecision(e.get(r,u));return(m=Math.min(m,20))>=0&&(o[n]=+o[n].toFixed(m)),o}var curry=zrUtil.curry,markerTypeCalculator={min:curry(markerTypeCalculatorWithExtent,"min"),max:curry(markerTypeCalculatorWithExtent,"max"),average:curry(markerTypeCalculatorWithExtent,"average")};export function dataTransform(a,e){var i=a.getData(),r=a.coordinateSystem;if(e&&!hasXAndY(e)&&!zrUtil.isArray(e.coord)&&r){var t=r.dimensions,n=getAxisInfo(e,i,r,a);if((e=zrUtil.clone(e)).type&&markerTypeCalculator[e.type]&&n.baseAxis&&n.valueAxis){var o=indexOf(t,n.baseAxis.dim),s=indexOf(t,n.valueAxis.dim);e.coord=markerTypeCalculator[e.type](i,n.baseDataDim,n.valueDataDim,o,s),e.value=e.coord[s]}else{for(var l=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],u=0;u<2;u++)markerTypeCalculator[l[u]]&&(l[u]=numCalculate(i,i.mapDimension(t[u]),l[u]));e.coord=l}}return e}export function getAxisInfo(a,e,i,r){var t={};return null!=a.valueIndex||null!=a.valueDim?(t.valueDataDim=null!=a.valueIndex?e.getDimension(a.valueIndex):a.valueDim,t.valueAxis=i.getAxis(dataDimToCoordDim(r,t.valueDataDim)),t.baseAxis=i.getOtherAxis(t.valueAxis),t.baseDataDim=e.mapDimension(t.baseAxis.dim)):(t.baseAxis=r.getBaseAxis(),t.valueAxis=i.getOtherAxis(t.baseAxis),t.baseDataDim=e.mapDimension(t.baseAxis.dim),t.valueDataDim=e.mapDimension(t.valueAxis.dim)),t}function dataDimToCoordDim(a,e){var i=a.getData(),r=i.dimensions;e=i.getDimension(e);for(var t=0;t<r.length;t++){var n=i.getDimensionInfo(r[t]);if(n.name===e)return n.coordDim}}export function dataFilter(a,e){return!(a&&a.containData&&e.coord&&!hasXOrY(e))||a.containData(e.coord)}export function dimValueGetter(a,e,i,r){return r<2?a.coord&&a.coord[r]:a.value}export function numCalculate(a,e,i){if("average"===i){var r=0,t=0;return a.each(e,function(a,e){isNaN(a)||(r+=a,t++)}),r/t}return"median"===i?a.getMedian(e):a.getDataExtent(e,!0)["max"===i?1:0]}
//# sourceMappingURL=/sm/5e218e7b106946997d7df7182de3b902938af16cccd992cfeaf76fab6015e997.map