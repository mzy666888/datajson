/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/src/component/marker/MarkPointView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as zrUtil from"zrender/src/core/util";import SymbolDraw from"../../chart/helper/SymbolDraw";import*as numberUtil from"../../util/number";import List from"../../data/List";import*as markerHelper from"./markerHelper";import MarkerView from"./MarkerView";function updateMarkerLayout(e,t,r){var a=t.coordinateSystem;e.each(function(i){var o,n=e.getItemModel(i),l=numberUtil.parsePercent(n.get("x"),r.getWidth()),s=numberUtil.parsePercent(n.get("y"),r.getHeight());if(isNaN(l)||isNaN(s)){if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(a){var m=e.get(a.dimensions[0],i),u=e.get(a.dimensions[1],i);o=a.dataToPoint([m,u])}}else o=[l,s];isNaN(l)||(o[0]=l),isNaN(s)||(o[1]=s),e.setItemLayout(i,o)})}export default MarkerView.extend({type:"markPoint",updateTransform:function(e,t,r){t.eachSeries(function(e){var t=e.markPointModel;t&&(updateMarkerLayout(t.getData(),e,r),this.markerGroupMap.get(e.id).updateLayout(t))},this)},renderSeries:function(e,t,r,a){var i=e.coordinateSystem,o=e.id,n=e.getData(),l=this.markerGroupMap,s=l.get(o)||l.set(o,new SymbolDraw),m=createList(i,e,t);t.setData(m),updateMarkerLayout(t.getData(),e,a),m.each(function(e){var r=m.getItemModel(e),a=r.getShallow("symbol"),i=r.getShallow("symbolSize"),o=zrUtil.isFunction(a),l=zrUtil.isFunction(i);if(o||l){var s=t.getRawValue(e),u=t.getDataParams(e);o&&(a=a(s,u)),l&&(i=i(s,u))}m.setItemVisual(e,{symbol:a,symbolSize:i,color:r.get("itemStyle.color")||n.getVisual("color")})}),s.updateData(m),this.group.add(s.group),m.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=t})}),s.__keep=!0,s.group.silent=t.get("silent")||e.get("silent")}});function createList(e,t,r){var a;a=e?zrUtil.map(e&&e.dimensions,function(e){var r=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return zrUtil.defaults({name:e},r)}):[{name:"value",type:"float"}];var i=new List(a,r),o=zrUtil.map(r.get("data"),zrUtil.curry(markerHelper.dataTransform,t));return e&&(o=zrUtil.filter(o,zrUtil.curry(markerHelper.dataFilter,e))),i.initData(o,null,e?markerHelper.dimValueGetter:function(e){return e.value}),i}
//# sourceMappingURL=/sm/f13de6878e4868be529f981c61d1a6e5e290e623e51db878134f24dcf5800fd5.map