/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/marker/markerHelper.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),numberUtil=require("../../util/number"),_dataStackHelper=require("../../data/helper/dataStackHelper"),isDimensionStacked=_dataStackHelper.isDimensionStacked,indexOf=zrUtil.indexOf;function hasXOrY(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function hasXAndY(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function markerTypeCalculatorWithExtent(a,e,t,i,r,n){var s=[],l=isDimensionStacked(e,i)?e.getCalculationInfo("stackResultDimension"):i,o=numCalculate(e,l,a),u=e.indicesOfNearest(l,o)[0];s[r]=e.get(t,u),s[n]=e.get(i,u);var m=numberUtil.getPrecision(e.get(i,u));return(m=Math.min(m,20))>=0&&(s[n]=+s[n].toFixed(m)),s}var curry=zrUtil.curry,markerTypeCalculator={min:curry(markerTypeCalculatorWithExtent,"min"),max:curry(markerTypeCalculatorWithExtent,"max"),average:curry(markerTypeCalculatorWithExtent,"average")};function dataTransform(a,e){var t=a.getData(),i=a.coordinateSystem;if(e&&!hasXAndY(e)&&!zrUtil.isArray(e.coord)&&i){var r=i.dimensions,n=getAxisInfo(e,t,i,a);if((e=zrUtil.clone(e)).type&&markerTypeCalculator[e.type]&&n.baseAxis&&n.valueAxis){var s=indexOf(r,n.baseAxis.dim),l=indexOf(r,n.valueAxis.dim);e.coord=markerTypeCalculator[e.type](t,n.baseDataDim,n.valueDataDim,s,l),e.value=e.coord[l]}else{for(var o=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],u=0;u<2;u++)markerTypeCalculator[o[u]]&&(o[u]=numCalculate(t,t.mapDimension(r[u]),o[u]));e.coord=o}}return e}function getAxisInfo(a,e,t,i){var r={};return null!=a.valueIndex||null!=a.valueDim?(r.valueDataDim=null!=a.valueIndex?e.getDimension(a.valueIndex):a.valueDim,r.valueAxis=t.getAxis(dataDimToCoordDim(i,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function dataDimToCoordDim(a,e){var t=a.getData(),i=t.dimensions;e=t.getDimension(e);for(var r=0;r<i.length;r++){var n=t.getDimensionInfo(i[r]);if(n.name===e)return n.coordDim}}function dataFilter(a,e){return!(a&&a.containData&&e.coord&&!hasXOrY(e))||a.containData(e.coord)}function dimValueGetter(a,e,t,i){return i<2?a.coord&&a.coord[i]:a.value}function numCalculate(a,e,t){if("average"===t){var i=0,r=0;return a.each(e,function(a,e){isNaN(a)||(i+=a,r++)}),i/r}return"median"===t?a.getMedian(e):a.getDataExtent(e,!0)["max"===t?1:0]}exports.dataTransform=dataTransform,exports.getAxisInfo=getAxisInfo,exports.dataFilter=dataFilter,exports.dimValueGetter=dimValueGetter,exports.numCalculate=numCalculate;
//# sourceMappingURL=/sm/952f6b6ac31d8cd17594ac51f245d79712d5253543961e7919603054c5267a8e.map