/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/marker/MarkPointView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),SymbolDraw=require("../../chart/helper/SymbolDraw"),numberUtil=require("../../util/number"),List=require("../../data/List"),markerHelper=require("./markerHelper"),MarkerView=require("./MarkerView");function updateMarkerLayout(e,t,r){var a=t.coordinateSystem;e.each(function(i){var n,o=e.getItemModel(i),l=numberUtil.parsePercent(o.get("x"),r.getWidth()),u=numberUtil.parsePercent(o.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(t.getMarkerPosition)n=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(a){var s=e.get(a.dimensions[0],i),m=e.get(a.dimensions[1],i);n=a.dataToPoint([s,m])}}else n=[l,u];isNaN(l)||(n[0]=l),isNaN(u)||(n[1]=u),e.setItemLayout(i,n)})}var _default=MarkerView.extend({type:"markPoint",updateTransform:function(e,t,r){t.eachSeries(function(e){var t=e.markPointModel;t&&(updateMarkerLayout(t.getData(),e,r),this.markerGroupMap.get(e.id).updateLayout(t))},this)},renderSeries:function(e,t,r,a){var i=e.coordinateSystem,n=e.id,o=e.getData(),l=this.markerGroupMap,u=l.get(n)||l.set(n,new SymbolDraw),s=createList(i,e,t);t.setData(s),updateMarkerLayout(t.getData(),e,a),s.each(function(e){var r=s.getItemModel(e),a=r.getShallow("symbol"),i=r.getShallow("symbolSize"),n=zrUtil.isFunction(a),l=zrUtil.isFunction(i);if(n||l){var u=t.getRawValue(e),m=t.getDataParams(e);n&&(a=a(u,m)),l&&(i=i(u,m))}s.setItemVisual(e,{symbol:a,symbolSize:i,color:r.get("itemStyle.color")||o.getVisual("color")})}),u.updateData(s),this.group.add(u.group),s.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}});function createList(e,t,r){var a;a=e?zrUtil.map(e&&e.dimensions,function(e){var r=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return zrUtil.defaults({name:e},r)}):[{name:"value",type:"float"}];var i=new List(a,r),n=zrUtil.map(r.get("data"),zrUtil.curry(markerHelper.dataTransform,t));return e&&(n=zrUtil.filter(n,zrUtil.curry(markerHelper.dataFilter,e))),i.initData(n,null,e?markerHelper.dimValueGetter:function(e){return e.value}),i}module.exports=_default;
//# sourceMappingURL=/sm/bdfa4b3503e6bc84c5c97a73ba3e7fa114a4dc36a3a52a03a708ae4994bb8b57.map