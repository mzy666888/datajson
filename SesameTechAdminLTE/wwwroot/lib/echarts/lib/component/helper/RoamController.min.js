/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/helper/RoamController.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),Eventful=require("zrender/lib/mixin/Eventful"),eventTool=require("zrender/lib/core/event"),interactionMutex=require("./interactionMutex");function RoamController(e){this.pointerChecker,this._zr=e,this._opt={};var i=zrUtil.bind,o=i(mousedown,this),t=i(mousemove,this),n=i(mouseup,this),r=i(mousewheel,this),s=i(pinch,this);Eventful.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(i,l){this.disable(),this._opt=zrUtil.defaults(zrUtil.clone(l)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==i&&(i=!0),!0!==i&&"move"!==i&&"pan"!==i||(e.on("mousedown",o),e.on("mousemove",t),e.on("mouseup",n)),!0!==i&&"scale"!==i&&"zoom"!==i||(e.on("mousewheel",r),e.on("pinch",s))},this.disable=function(){e.off("mousedown",o),e.off("mousemove",t),e.off("mouseup",n),e.off("mousewheel",r),e.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function mousedown(e){if(!(eventTool.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var i=e.offsetX,o=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,o)&&(this._x=i,this._y=o,this._dragging=!0)}}function mousemove(e){if(this._dragging&&isAvailableBehavior("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!interactionMutex.isTaken(this._zr,"globalPan")){var i=e.offsetX,o=e.offsetY,t=this._x,n=this._y,r=i-t,s=o-n;this._x=i,this._y=o,this._opt.preventDefaultMouseMove&&eventTool.stop(e.event),trigger(this,"pan","moveOnMouseMove",e,{dx:r,dy:s,oldX:t,oldY:n,newX:i,newY:o})}}function mouseup(e){eventTool.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function mousewheel(e){var i=isAvailableBehavior("zoomOnMouseWheel",e,this._opt),o=isAvailableBehavior("moveOnMouseWheel",e,this._opt),t=e.wheelDelta,n=Math.abs(t),r=e.offsetX,s=e.offsetY;if(0!==t&&(i||o)){if(i){var l=n>3?1.4:n>1?1.2:1.1;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",e,{scale:t>0?l:1/l,originX:r,originY:s})}if(o){var h=Math.abs(t);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(t>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:r,originY:s})}}}function pinch(e){interactionMutex.isTaken(this._zr,"globalPan")||checkPointerAndTrigger(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function checkPointerAndTrigger(e,i,o,t,n){e.pointerChecker&&e.pointerChecker(t,n.originX,n.originY)&&(eventTool.stop(t.event),trigger(e,i,o,t,n))}function trigger(e,i,o,t,n){n.isAvailableBehavior=zrUtil.bind(isAvailableBehavior,null,o,t),e.trigger(i,n)}function isAvailableBehavior(e,i,o){var t=o[e];return!e||t&&(!zrUtil.isString(t)||i.event[t+"Key"])}zrUtil.mixin(RoamController,Eventful);var _default=RoamController;module.exports=_default;
//# sourceMappingURL=/sm/a7064b10b130427675c31be88d7f9ac02999bc1fab822c292127d85aaea6d301.map