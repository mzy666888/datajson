/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/dataZoom/InsideZoomView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),DataZoomView=require("./DataZoomView"),sliderMove=require("../helper/sliderMove"),roams=require("./roams"),bind=zrUtil.bind,InsideZoomView=DataZoomView.extend({type:"dataZoom.inside",init:function(e,i){this._range},render:function(e,i,t,n){InsideZoomView.superApply(this,"render",arguments),this._range=e.getPercentRange(),zrUtil.each(this.getTargetCoordInfo(),function(i,n){var r=zrUtil.map(i,function(e){return roams.generateCoordId(e.model)});zrUtil.each(i,function(i){var o=i.model,a={};zrUtil.each(["pan","zoom","scrollMove"],function(e){a[e]=bind(roamHandlers[e],this,i,n)},this),roams.register(t,{coordId:roams.generateCoordId(o),allCoordIds:r,containsPoint:function(e,i,t){return o.coordinateSystem.containPoint([i,t])},dataZoomId:e.id,dataZoomModel:e,getRange:a})},this)},this)},dispose:function(){roams.unregister(this.api,this.dataZoomModel.id),InsideZoomView.superApply(this,"dispose",arguments),this._range=null}}),roamHandlers={zoom:function(e,i,t,n){var r=this._range,o=r.slice(),a=e.axisModels[0];if(a){var l=getDirectionInfo[i](null,[n.originX,n.originY],a,t,e),s=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(o[1]-o[0])+o[0],d=Math.max(1/n.scale,0);o[0]=(o[0]-s)*d+s,o[1]=(o[1]-s)*d+s;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return sliderMove(0,o,[0,100],0,g.minSpan,g.maxSpan),this._range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:makeMover(function(e,i,t,n,r,o){var a=getDirectionInfo[n]([o.oldX,o.oldY],[o.newX,o.newY],i,r,t);return a.signal*(e[1]-e[0])*a.pixel/a.pixelLength}),scrollMove:makeMover(function(e,i,t,n,r,o){return getDirectionInfo[n]([0,0],[o.scrollDelta,o.scrollDelta],i,r,t).signal*(e[1]-e[0])*o.scrollDelta})};function makeMover(e){return function(i,t,n,r){var o=this._range,a=o.slice(),l=i.axisModels[0];if(l){var s=e(a,l,i,t,n,r);return sliderMove(s,a,[0,100],"all"),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}}var getDirectionInfo={grid:function(e,i,t,n,r){var o=t.axis,a={},l=r.model.coordinateSystem.getRect();return e=e||[0,0],"x"===o.dim?(a.pixel=i[0]-e[0],a.pixelLength=l.width,a.pixelStart=l.x,a.signal=o.inverse?1:-1):(a.pixel=i[1]-e[1],a.pixelLength=l.height,a.pixelStart=l.y,a.signal=o.inverse?-1:1),a},polar:function(e,i,t,n,r){var o=t.axis,a={},l=r.model.coordinateSystem,s=l.getRadiusAxis().getExtent(),d=l.getAngleAxis().getExtent();return e=e?l.pointToCoord(e):[0,0],i=l.pointToCoord(i),"radiusAxis"===t.mainType?(a.pixel=i[0]-e[0],a.pixelLength=s[1]-s[0],a.pixelStart=s[0],a.signal=o.inverse?1:-1):(a.pixel=i[1]-e[1],a.pixelLength=d[1]-d[0],a.pixelStart=d[0],a.signal=o.inverse?-1:1),a},singleAxis:function(e,i,t,n,r){var o=t.axis,a=r.model.coordinateSystem.getRect(),l={};return e=e||[0,0],"horizontal"===o.orient?(l.pixel=i[0]-e[0],l.pixelLength=a.width,l.pixelStart=a.x,l.signal=o.inverse?1:-1):(l.pixel=i[1]-e[1],l.pixelLength=a.height,l.pixelStart=a.y,l.signal=o.inverse?-1:1),l}},_default=InsideZoomView;module.exports=_default;
//# sourceMappingURL=/sm/5b4c93e71bad5daa793db6089912d7d0e91bdf52c44026a3b9747871e47abd79.map