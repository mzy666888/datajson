/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/dataZoom/roams.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),RoamController=require("../../component/helper/RoamController"),throttleUtil=require("../../util/throttle"),ATTR="\0_ec_dataZoom_roams";function register(e,o){var t=giveStore(e),r=o.dataZoomId,n=o.coordId;zrUtil.each(t,function(e,t){var a=e.dataZoomInfos;a[r]&&zrUtil.indexOf(o.allCoordIds,n)<0&&(delete a[r],e.count--)}),cleanStore(t);var a=t[n];a||((a=t[n]={coordId:n,dataZoomInfos:{},count:0}).controller=createController(e,a),a.dispatchAction=zrUtil.curry(dispatchAction,e)),!a.dataZoomInfos[r]&&a.count++,a.dataZoomInfos[r]=o;var l=mergeControllerParams(a.dataZoomInfos);a.controller.enable(l.controlType,l.opt),a.controller.setPointerChecker(o.containsPoint),throttleUtil.createOrUpdate(a,"dispatchAction",o.dataZoomModel.get("throttle",!0),"fixRate")}function unregister(e,o){var t=giveStore(e);zrUtil.each(t,function(e){e.controller.dispose();var t=e.dataZoomInfos;t[o]&&(delete t[o],e.count--)}),cleanStore(t)}function generateCoordId(e){return e.type+"\0_"+e.id}function giveStore(e){var o=e.getZr();return o[ATTR]||(o[ATTR]={})}function createController(e,o){var t=new RoamController(e.getZr());return zrUtil.each(["pan","zoom","scrollMove"],function(e){t.on(e,function(t){var r=[];zrUtil.each(o.dataZoomInfos,function(n){if(t.isAvailableBehavior(n.dataZoomModel.option)){var a=(n.getRange||{})[e],l=a&&a(o.controller,t);!n.dataZoomModel.get("disabled",!0)&&l&&r.push({dataZoomId:n.dataZoomId,start:l[0],end:l[1]})}}),r.length&&o.dispatchAction(r)})}),t}function cleanStore(e){zrUtil.each(e,function(o,t){o.count||(o.controller.dispose(),delete e[t])})}function dispatchAction(e,o){e.dispatchAction({type:"dataZoom",batch:o})}function mergeControllerParams(e){var o,t={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return zrUtil.each(e,function(e){var n=e.dataZoomModel,a=!n.get("disabled",!0)&&(!n.get("zoomLock",!0)||"move");t["type_"+a]>t["type_"+o]&&(o=a),r&=n.get("preventDefaultMouseMove",!0)}),{controlType:o,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}exports.register=register,exports.unregister=unregister,exports.generateCoordId=generateCoordId;
//# sourceMappingURL=/sm/33c87d612d2cb7d1fc2b42710c75d48da50da5bd2d7e8fcc22a71446793c70c8.map