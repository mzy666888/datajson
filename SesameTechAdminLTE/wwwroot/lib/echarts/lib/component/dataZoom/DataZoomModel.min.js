/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/dataZoom/DataZoomModel.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var _config=require("../../config"),__DEV__=_config.__DEV__,echarts=require("../../echarts"),zrUtil=require("zrender/lib/core/util"),env=require("zrender/lib/core/env"),modelUtil=require("../../util/model"),helper=require("./helper"),AxisProxy=require("./AxisProxy"),each=zrUtil.each,eachAxisDim=helper.eachAxisDim,DataZoomModel=echarts.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=retrieveRawOption(e);this.settledOption=n,this.mergeDefaultAndTheme(e,i),this.doInit(n)},mergeOption:function(e){var t=retrieveRawOption(e);zrUtil.merge(this.option,e,!0),zrUtil.merge(this.settledOption,t,!0),this.doInit(t)},doInit:function(e){var t=this.option;env.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),updateRangeUse(this,e);var i=this.settledOption;each([["start","startValue"],["end","endValue"]],function(e,n){"value"===this._rangePropMode[n]&&(t[e[0]]=i[e[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,i,n,r){var a=this.dependentModels[t.axis][i],s=a.__dzAxisProxy||(a.__dzAxisProxy=new AxisProxy(t.name,i,this,r));e[t.name+"_"+i]=s},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();eachAxisDim(function(t){var i=t.axisIndex;e[i]=modelUtil.normalizeToArray(e[i])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;eachAxisDim(function(i){null!=e[i.axisIndex]&&(t=!0)},this);var i=e.orient;return null==i&&t?"orient":t?void 0:(null==i&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),i=this.option,n=this.dependentModels;if(e){var r="vertical"===t?"y":"x";n[r+"Axis"].length?(i[r+"AxisIndex"]=[0],e=!1):each(n.singleAxis,function(n){e&&n.get("orient",!0)===t&&(i.singleAxisIndex=[n.componentIndex],e=!1)})}e&&eachAxisDim(function(t){if(e){var n=[],r=this.dependentModels[t.axis];if(r.length&&!n.length)for(var a=0,s=r.length;a<s;a++)"category"===r[a].get("type")&&n.push(a);i[t.axisIndex]=n,n.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&eachAxisDim(function(t){var n=i[t.axisIndex],r=e.get(t.axisIndex),a=e.get(t.axisId);r=e.ecModel.queryComponents({mainType:t.axis,index:r,id:a})[0].componentIndex,zrUtil.indexOf(n,r)<0&&n.push(r)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var i=!0;return eachAxisDim(function(n){var r=e.get(n.axisIndex),a=this.dependentModels[n.axis][r];a&&a.get("type")===t||(i=!1)},this),i},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return eachAxisDim(function(t){if(null==e){var i=this.get(t.axisIndex);i.length&&(e=this.dependentModels[t.axis][i[0]])}},this),e},eachTargetAxis:function(e,t){var i=this.ecModel;eachAxisDim(function(n){each(this.get(n.axisIndex),function(r){e.call(t,n,r,this,i)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var i=this.getAxisProxy(e,t);return i&&i.getAxisModel()},setRawRange:function(e){var t=this.option,i=this.settledOption;each([["start","startValue"],["end","endValue"]],function(n){null==e[n[0]]&&null==e[n[1]]||(t[n[0]]=i[n[0]]=e[n[0]],t[n[1]]=i[n[1]]=e[n[1]])},this),updateRangeUse(this,e)},setCalculatedRange:function(e){var t=this.option;each(["start","startValue","end","endValue"],function(i){t[i]=e[i]})},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var i in t)if(t.hasOwnProperty(i)&&t[i].hostedBy(this))return t[i];for(var i in t)if(t.hasOwnProperty(i)&&!t[i].hostedBy(this))return t[i]},getRangePropMode:function(){return this._rangePropMode.slice()}});function retrieveRawOption(e){var t={};return each(["start","end","startValue","endValue","throttle"],function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t}function updateRangeUse(e,t){var i=e._rangePropMode,n=e.get("rangeMode");each([["start","startValue"],["end","endValue"]],function(e,r){var a=null!=t[e[0]],s=null!=t[e[1]];a&&!s?i[r]="percent":!a&&s?i[r]="value":n?i[r]=n[r]:a&&(i[r]="percent")})}var _default=DataZoomModel;module.exports=_default;
//# sourceMappingURL=/sm/1ff74e9faf7d589c5ea730f7cb7258b0222e8873b5b4a97a7acfded5b47eb6d0.map