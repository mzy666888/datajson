/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/toolbox/feature/SaveAsImage.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var env=require("zrender/lib/core/env"),lang=require("../../../lang"),featureManager=require("../featureManager"),saveAsImageLang=lang.toolbox.saveAsImage;function SaveAsImage(e){this.model=e}SaveAsImage.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:saveAsImageLang.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:saveAsImageLang.lang.slice()},SaveAsImage.prototype.unusable=!env.canvasSupported;var proto=SaveAsImage.prototype;proto.onclick=function(e,a){var o=this.model,t=o.get("name")||e.get("title.0.text")||"echarts",n=o.get("type",!0)||"png",r=a.getConnectedDataURL({type:n,backgroundColor:o.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")});if("function"!=typeof MouseEvent||env.browser.ie||env.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var l=atob(r.split(",")[1]),g=l.length,i=new Uint8Array(g);g--;)i[g]=l.charCodeAt(g);var s=new Blob([i]);window.navigator.msSaveOrOpenBlob(s,t+"."+n)}else{var c=o.get("lang"),d='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(c&&c[0]||"")+'" /></body>';window.open().document.write(d)}else{var v=document.createElement("a");v.download=t+"."+n,v.target="_blank",v.href=r;var u=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});v.dispatchEvent(u)}},featureManager.register("saveAsImage",SaveAsImage);var _default=SaveAsImage;module.exports=_default;
//# sourceMappingURL=/sm/6ff2fc9ad693b748430b87e3a27aae4f66f51adc9da62865709533a2a22eb0f7.map