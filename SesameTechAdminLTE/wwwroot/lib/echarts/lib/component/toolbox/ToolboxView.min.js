/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/toolbox/ToolboxView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var echarts=require("../../echarts"),zrUtil=require("zrender/lib/core/util"),textContain=require("zrender/lib/contain/text"),featureManager=require("./featureManager"),graphic=require("../../util/graphic"),Model=require("../../model/Model"),DataDiffer=require("../../data/DataDiffer"),listComponentHelper=require("../helper/listComponent"),_default=echarts.extendComponentView({type:"toolbox",render:function(t,e,i,o){var r=this.group;if(r.removeAll(),t.get("show")){var n=+t.get("itemSize"),a=t.get("feature")||{},l=this._features||(this._features={}),s=[];zrUtil.each(a,function(t,e){s.push(e)}),new DataDiffer(this._featureNames||[],s).add(u).update(u).remove(zrUtil.curry(u,null)).execute(),this._featureNames=s,listComponentHelper.layout(r,t,i),r.add(listComponentHelper.makeBackground(r.getBoundingRect(),t)),r.eachChild(function(t){var e=t.__title,o=t.hoverStyle;if(o&&e){var a=textContain.getBoundingRect(e,textContain.makeFont(o)),l=t.position[0]+r.position[0],s=!1;t.position[1]+r.position[1]+n+a.height>i.getHeight()&&(o.textPosition="top",s=!0);var u=s?-5-a.height:n+8;l+a.width/2>i.getWidth()?(o.textPosition=["100%",u],o.textAlign="right"):l-a.width/2<0&&(o.textPosition=[0,u],o.textAlign="left")}})}function u(u,c){var g,d=s[u],f=s[c],h=a[d],p=new Model(h,t,t.ecModel);if(d&&!f){if(isUserFeatureName(d))g={model:p,onclick:p.option.onclick,featureName:d};else{var m=featureManager.get(d);if(!m)return;g=new m(p,e,i)}l[d]=g}else{if(!(g=l[f]))return;g.model=p,g.ecModel=e,g.api=i}d||!f?p.get("show")&&!g.unusable?(!function(o,a,l){var s=o.getModel("iconStyle"),u=o.getModel("emphasis.iconStyle"),c=a.getIcons?a.getIcons():o.get("icon"),g=o.get("title")||{};if("string"==typeof c){var d=c,f=g;g={},(c={})[l]=d,g[l]=f}var h=o.iconPaths={};zrUtil.each(c,function(l,c){var d=graphic.createIcon(l,{},{x:-n/2,y:-n/2,width:n,height:n});d.setStyle(s.getItemStyle()),d.hoverStyle=u.getItemStyle(),d.setStyle({text:g[c],textAlign:u.get("textAlign"),textBorderRadius:u.get("textBorderRadius"),textPadding:u.get("textPadding"),textFill:null});var f=t.getModel("tooltip");f&&f.get("show")&&d.attr("tooltip",zrUtil.extend({content:g[c],formatter:f.get("formatter",!0)||function(){return g[c]},formatterParams:{componentType:"toolbox",name:c,title:g[c],$vars:["name","title"]},position:f.get("position",!0)||"bottom"},f.option)),graphic.setHoverStyle(d),t.get("showTitle")&&(d.__title=g[c],d.on("mouseover",function(){var e=u.getItemStyle(),i="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";d.setStyle({textFill:u.get("textFill")||e.fill||e.stroke||"#000",textBackgroundColor:u.get("textBackgroundColor"),textPosition:u.get("textPosition")||i})}).on("mouseout",function(){d.setStyle({textFill:null,textBackgroundColor:null})})),d.trigger(o.get("iconStatus."+c)||"normal"),r.add(d),d.on("click",zrUtil.bind(a.onclick,a,e,i,c)),h[c]=d})}(p,g,d),p.setIconStatus=function(t,e){var i=this.option,o=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,o[t]&&o[t].trigger(e)},g.render&&g.render(p,e,i,o)):g.remove&&g.remove(e,i):g.dispose&&g.dispose(e,i)}},updateView:function(t,e,i,o){zrUtil.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,i,o)})},remove:function(t,e){zrUtil.each(this._features,function(i){i.remove&&i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){zrUtil.each(this._features,function(i){i.dispose&&i.dispose(t,e)})}});function isUserFeatureName(t){return 0===t.indexOf("my")}module.exports=_default;
//# sourceMappingURL=/sm/1acda0b8bbb09fc058236e01a04c07f58604a5d338db502dd87fdac3ccd51562.map