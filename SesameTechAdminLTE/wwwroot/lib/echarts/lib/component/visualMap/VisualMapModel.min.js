/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/visualMap/VisualMapModel.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var echarts=require("../../echarts"),zrUtil=require("zrender/lib/core/util"),env=require("zrender/lib/core/env"),visualDefault=require("../../visual/visualDefault"),VisualMapping=require("../../visual/VisualMapping"),visualSolution=require("../../visual/visualSolution"),modelUtil=require("../../util/model"),numberUtil=require("../../util/number"),mapVisual=VisualMapping.mapVisual,eachVisual=VisualMapping.eachVisual,isArray=zrUtil.isArray,each=zrUtil.each,asc=numberUtil.asc,linearMap=numberUtil.linearMap,noop=zrUtil.noop,VisualMapModel=echarts.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,i)},optionUpdated:function(e,t){var i=this.option;env.canvasSupported||(i.realtime=!1),!t&&visualSolution.replaceVisualOption(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=zrUtil.bind(e,this),this.controllerVisuals=visualSolution.createVisualMappings(this.option.controller,t,e),this.targetVisuals=visualSolution.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(e,i){t.push(i)}):t=modelUtil.normalizeToArray(e),t},eachTargetSeries:function(e,t){zrUtil.each(this.getTargetSeriesIndices(),function(i){e.call(t,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(i){i===e&&(t=!0)}),t},formatValueText:function(e,t,i){var n,a,l=this.option,o=l.precision,r=this.dataBound,s=l.formatter;return i=i||["<",">"],zrUtil.isArray(e)&&(e=e.slice(),n=!0),a=t?e:n?[u(e[0]),u(e[1])]:u(e),zrUtil.isString(s)?s.replace("{value}",n?a[0]:a).replace("{value2}",n?a[1]:a):zrUtil.isFunction(s)?n?s(e[0],e[1]):s(e):n?e[0]===r[0]?i[0]+" "+a[1]:e[1]===r[1]?i[1]+" "+a[0]:a[0]+" - "+a[1]:a;function u(e){return e===r[0]?"min":e===r[1]?"max":(+e).toFixed(Math.min(o,20))}},resetExtent:function(){var e=this.option,t=asc([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,i=e.dimensions;if(null!=t||i.length){if(null!=t)return e.getDimension(t);for(var n=e.dimensions,a=n.length-1;a>=0;a--){var l=n[a];if(!e.getDimensionInfo(l).isCalculationCoord)return l}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),a=t.controller||(t.controller={});zrUtil.merge(n,i),zrUtil.merge(a,i);var l=this.isCategory();function o(i){isArray(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")},each(this.stateList,function(e){var t=i[e];if(zrUtil.isString(t)){var n=visualDefault.get(t,"active",l);n?(i[e]={},i[e][t]=n):delete i[e]}},this)}o.call(this,n),o.call(this,a),function(e,t,i){var n=e[t],a=e[i];n&&!a&&(a=e[i]={},each(n,function(e,t){if(VisualMapping.isValidType(t)){var i=visualDefault.get(t,"inactive",l);null!=i&&(a[t]=i,"color"!==t||a.hasOwnProperty("opacity")||a.hasOwnProperty("colorAlpha")||(a.opacity=[0,0]))}}))}.call(this,n,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,n=this.get("inactiveColor");each(this.stateList,function(a){var o=this.itemSize,r=e[a];r||(r=e[a]={color:l?n:[n]}),null==r.symbol&&(r.symbol=t&&zrUtil.clone(t)||(l?"roundRect":["roundRect"])),null==r.symbolSize&&(r.symbolSize=i&&zrUtil.clone(i)||(l?o[0]:[o[0],o[0]])),r.symbol=mapVisual(r.symbol,function(e){return"none"===e||"square"===e?"roundRect":e});var s=r.symbolSize;if(null!=s){var u=-1/0;eachVisual(s,function(e){e>u&&(u=e)}),r.symbolSize=mapVisual(s,function(e){return linearMap(e,[0,u],[0,o[0]],!0)})}},this)}.call(this,a)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:noop,getValueState:noop,getVisualMeta:noop}),_default=VisualMapModel;module.exports=_default;
//# sourceMappingURL=/sm/2452ce9e8bca97d423a8507d1f996b9d62fe60910280665559bd864c6eab7534.map