/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/axis/ParallelAxisView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var echarts=require("../../echarts"),zrUtil=require("zrender/lib/core/util"),AxisBuilder=require("./AxisBuilder"),BrushController=require("../helper/BrushController"),brushHelper=require("../helper/brushHelper"),graphic=require("../../util/graphic"),elementList=["axisLine","axisTickLabel","axisName"],AxisView=echarts.extendComponentView({type:"parallelAxis",init:function(e,r){AxisView.superApply(this,"init",arguments),(this._brushController=new BrushController(r.getZr())).on("brush",zrUtil.bind(this._onBrush,this))},render:function(e,r,t,i){if(!fromAxisAreaSelect(e,r,i)){this.axisModel=e,this.api=t,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new graphic.Group,this.group.add(this._axisGroup),e.get("show")){var o=getCoordSysModel(e,r),s=o.coordinateSystem,n=e.getAreaSelectStyle(),l=n.width,u=e.axis.dim,h=s.getAxisLayout(u),p=zrUtil.extend({strokeContainThreshold:l},h),d=new AxisBuilder(e,p);zrUtil.each(elementList,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(p,n,e,o,l,t);var c=i&&!1===i.animation?null:e;graphic.groupTransition(a,this._axisGroup,c)}}},_refreshBrushController:function(e,r,t,i,a,o){var s=t.axis.getExtent(),n=s[1]-s[0],l=Math.min(30,.1*Math.abs(n)),u=graphic.BoundingRect.create({x:s[0],y:-a/2,width:n,height:a});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:brushHelper.makeRectPanelClipPath(u),isTargetByCursor:brushHelper.makeRectIsTargetByCursor(u,o,i),getLinearBrushOtherExtent:brushHelper.makeLinearBrushOtherExtent(u,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(getCoverInfoList(t))},_onBrush:function(e,r){var t=this.axisModel,i=t.axis,a=zrUtil.map(e,function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]});(!t.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:t.id,intervals:a})},dispose:function(){this._brushController.dispose()}});function fromAxisAreaSelect(e,r,t){return t&&"axisAreaSelect"===t.type&&r.findComponents({mainType:"parallelAxis",query:t})[0]===e}function getCoverInfoList(e){var r=e.axis;return zrUtil.map(e.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[r.dataToCoord(e[0],!0),r.dataToCoord(e[1],!0)]}})}function getCoordSysModel(e,r){return r.getComponent("parallel",e.get("parallelIndex"))}var _default=AxisView;module.exports=_default;
//# sourceMappingURL=/sm/0acdb3f774d2ce4495d70539fc032ceb4a1cd58b1d1ace40a6c96faf5bd589c8.map