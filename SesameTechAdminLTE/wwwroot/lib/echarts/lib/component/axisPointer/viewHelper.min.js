/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/axisPointer/viewHelper.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),graphic=require("../../util/graphic"),textContain=require("zrender/lib/contain/text"),formatUtil=require("../../util/format"),matrix=require("zrender/lib/core/matrix"),axisHelper=require("../../coord/axisHelper"),AxisBuilder=require("../axis/AxisBuilder");function buildElStyle(e){var t,i=e.get("type"),a=e.getModel(i+"Style");return"line"===i?(t=a.getLineStyle()).fill=null:"shadow"===i&&((t=a.getAreaStyle()).stroke=null),t}function buildLabelElOption(e,t,i,a,r){var l=getValueLabel(i.get("value"),t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),n=i.getModel("label"),o=formatUtil.normalizeCssArray(n.get("padding")||0),s=n.getFont(),d=textContain.getBoundingRect(l,s),g=r.position,u=d.width+o[1]+o[3],c=d.height+o[0]+o[2],x=r.align;"right"===x&&(g[0]-=u),"center"===x&&(g[0]-=u/2);var p=r.verticalAlign;"bottom"===p&&(g[1]-=c),"middle"===p&&(g[1]-=c/2),confineInContainer(g,u,c,a);var h=n.get("backgroundColor");h&&"auto"!==h||(h=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:u,height:c,r:n.get("borderRadius")},position:g.slice(),style:{text:l,textFont:s,textFill:n.getTextColor(),textPosition:"inside",textPadding:o,fill:h,stroke:n.get("borderColor")||"transparent",lineWidth:n.get("borderWidth")||0,shadowBlur:n.get("shadowBlur"),shadowColor:n.get("shadowColor"),shadowOffsetX:n.get("shadowOffsetX"),shadowOffsetY:n.get("shadowOffsetY")},z2:10}}function confineInContainer(e,t,i,a){var r=a.getWidth(),l=a.getHeight();e[0]=Math.min(e[0]+t,r)-t,e[1]=Math.min(e[1]+i,l)-i,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function getValueLabel(e,t,i,a,r){e=t.scale.parse(e);var l=t.scale.getLabel(e,{precision:r.precision}),n=r.formatter;if(n){var o={value:axisHelper.getAxisRawValue(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};zrUtil.each(a,function(e){var t=i.getSeriesByIndex(e.seriesIndex),a=e.dataIndexInside,r=t&&t.getDataParams(a);r&&o.seriesData.push(r)}),zrUtil.isString(n)?l=n.replace("{value}",l):zrUtil.isFunction(n)&&(l=n(o))}return l}function getTransformedPosition(e,t,i){var a=matrix.create();return matrix.rotate(a,a,i.rotation),matrix.translate(a,a,i.position),graphic.applyTransform([e.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],a)}function buildCartesianSingleLabelElOption(e,t,i,a,r,l){var n=AxisBuilder.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=r.get("label.margin"),buildLabelElOption(t,a,r,l,{position:getTransformedPosition(a.axis,e,i),align:n.textAlign,verticalAlign:n.textVerticalAlign})}function makeLineShape(e,t,i){return{x1:e[i=i||0],y1:e[1-i],x2:t[i],y2:t[1-i]}}function makeRectShape(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}}function makeSectorShape(e,t,i,a,r,l){return{cx:e,cy:t,r0:i,r:a,startAngle:r,endAngle:l,clockwise:!0}}exports.buildElStyle=buildElStyle,exports.buildLabelElOption=buildLabelElOption,exports.getValueLabel=getValueLabel,exports.getTransformedPosition=getTransformedPosition,exports.buildCartesianSingleLabelElOption=buildCartesianSingleLabelElOption,exports.makeLineShape=makeLineShape,exports.makeRectShape=makeRectShape,exports.makeSectorShape=makeSectorShape;
//# sourceMappingURL=/sm/f188214c53625da3127a4b9a09cea0572c609579988fc1d4683d3cbd9b5ca8a6.map