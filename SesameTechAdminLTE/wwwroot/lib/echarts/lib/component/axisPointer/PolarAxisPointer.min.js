/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/component/axisPointer/PolarAxisPointer.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var formatUtil=require("../../util/format"),BaseAxisPointer=require("./BaseAxisPointer"),graphic=require("../../util/graphic"),viewHelper=require("./viewHelper"),matrix=require("zrender/lib/core/matrix"),AxisBuilder=require("../axis/AxisBuilder"),AxisView=require("../axis/AxisView"),PolarAxisPointer=BaseAxisPointer.extend({makeElOption:function(e,i,t,r,a){var o=t.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var l,n=o.polar,s=n.getOtherAxis(o).getExtent();l=o["dataTo"+formatUtil.capitalFirst(o.dim)](i);var x=r.get("type");if(x&&"none"!==x){var p=viewHelper.buildElStyle(r),c=pointerShapeBuilder[x](o,n,l,s,p);c.style=p,e.graphicKey=c.type,e.pointer=c}var d=r.get("label.margin"),u=getLabelPosition(i,t,r,n,d);viewHelper.buildLabelElOption(e,t,r,a,u)}});function getLabelPosition(e,i,t,r,a){var o=i.axis,l=o.dataToCoord(e),n=r.getAngleAxis().getExtent()[0];n=n/180*Math.PI;var s,x,p,c=r.getRadiusAxis().getExtent();if("radius"===o.dim){var d=matrix.create();matrix.rotate(d,d,n),matrix.translate(d,d,[r.cx,r.cy]),s=graphic.applyTransform([l,-a],d);var u=i.getModel("axisLabel").get("rotate")||0,g=AxisBuilder.innerTextLayout(n,u*Math.PI/180,-1);x=g.textAlign,p=g.textVerticalAlign}else{var h=c[1];s=r.coordToPoint([h+a,l]);var m=r.cx,v=r.cy;x=Math.abs(s[0]-m)/h<.3?"center":s[0]>m?"left":"right",p=Math.abs(s[1]-v)/h<.3?"middle":s[1]>v?"top":"bottom"}return{position:s,align:x,verticalAlign:p}}var pointerShapeBuilder={line:function(e,i,t,r,a){return"angle"===e.dim?{type:"Line",shape:viewHelper.makeLineShape(i.coordToPoint([r[0],t]),i.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:i.cx,cy:i.cy,r:t}}},shadow:function(e,i,t,r,a){var o=Math.max(1,e.getBandWidth()),l=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:viewHelper.makeSectorShape(i.cx,i.cy,r[0],r[1],(-t-o/2)*l,(o/2-t)*l)}:{type:"Sector",shape:viewHelper.makeSectorShape(i.cx,i.cy,t-o/2,t+o/2,0,2*Math.PI)}}};AxisView.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer);var _default=PolarAxisPointer;module.exports=_default;
//# sourceMappingURL=/sm/db67100792cff4636209e0f1e37639a0619942d517193fd998b4886a4c170452.map