/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/data/helper/dataProvider.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var _config=require("../../config"),__DEV__=_config.__DEV__,_util=require("zrender/lib/core/util"),isTypedArray=_util.isTypedArray,extend=_util.extend,assert=_util.assert,each=_util.each,isObject=_util.isObject,_model=require("../../util/model"),getDataItemValue=_model.getDataItemValue,isDataItemOption=_model.isDataItemOption,_number=require("../../util/number"),parseDate=_number.parseDate,Source=require("../Source"),_sourceType=require("./sourceType"),SOURCE_FORMAT_TYPED_ARRAY=_sourceType.SOURCE_FORMAT_TYPED_ARRAY,SOURCE_FORMAT_ARRAY_ROWS=_sourceType.SOURCE_FORMAT_ARRAY_ROWS,SOURCE_FORMAT_ORIGINAL=_sourceType.SOURCE_FORMAT_ORIGINAL,SOURCE_FORMAT_OBJECT_ROWS=_sourceType.SOURCE_FORMAT_OBJECT_ROWS;function DefaultDataProvider(e,t){Source.isInstance(e)||(e=Source.seriesDataToSource(e)),this._source=e;var r=this._data=e.data,a=e.sourceFormat;a===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=t,this._data=r);var n=providerMethods[a===SOURCE_FORMAT_ARRAY_ROWS?a+"_"+e.seriesLayoutBy:a];extend(this,n)}var providerProto=DefaultDataProvider.prototype;providerProto.pure=!1,providerProto.persistent=!0,providerProto.getSource=function(){return this._source};var providerMethods={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:appendDataSimply},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],r=this._data,a=0;a<r.length;a++){var n=r[a];t.push(n?n[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:countSimply,getItem:getItemSimply,appendData:appendDataSimply},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],r=this._source.dimensionsDefine,a=0;a<r.length;a++){var n=this._data[r[a].name];t.push(n?n[e]:null)}return t},appendData:function(e){var t=this._data;each(e,function(e,r){for(var a=t[r]||(t[r]=[]),n=0;n<(e||[]).length;n++)a.push(e[n])})}},original:{count:countSimply,getItem:getItemSimply,appendData:appendDataSimply},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e-=this._offset,t=t||[];for(var r=this._dimSize*e,a=0;a<this._dimSize;a++)t[a]=this._data[r+a];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function countSimply(){return this._data.length}function getItemSimply(e){return this._data[e]}function appendDataSimply(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var rawValueGetters={arrayRows:getRawValueSimply,objectRows:function(e,t,r,a){return null!=r?e[a]:e},keyedColumns:getRawValueSimply,original:function(e,t,r,a){var n=getDataItemValue(e);return null!=r&&n instanceof Array?n[r]:n},typedArray:getRawValueSimply};function getRawValueSimply(e,t,r,a){return null!=r?e[r]:e}var defaultDimValueGetters={arrayRows:getDimValueSimply,objectRows:function(e,t,r,a){return converDataValue(e[t],this._dimensionInfos[t])},keyedColumns:getDimValueSimply,original:function(e,t,r,a){var n=e&&(null==e.value?e:e.value);return!this._rawData.pure&&isDataItemOption(e)&&(this.hasItemOption=!0),converDataValue(n instanceof Array?n[a]:n,this._dimensionInfos[t])},typedArray:function(e,t,r,a){return e[a]}};function getDimValueSimply(e,t,r,a){return converDataValue(e[a],this._dimensionInfos[t])}function converDataValue(e,t){var r=t&&t.type;if("ordinal"===r){var a=t&&t.ordinalMeta;return a?a.parseAndCollect(e):e}return"time"===r&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+parseDate(e)),null==e||""===e?NaN:+e}function retrieveRawValue(e,t,r){if(e){var a=e.getRawDataItem(t);if(null!=a){var n,i,u=e.getProvider().getSource().sourceFormat,o=e.getDimensionInfo(r);return o&&(n=o.name,i=o.index),rawValueGetters[u](a,t,i,n)}}}function retrieveRawAttr(e,t,r){if(e){var a=e.getProvider().getSource().sourceFormat;if(a===SOURCE_FORMAT_ORIGINAL||a===SOURCE_FORMAT_OBJECT_ROWS){var n=e.getRawDataItem(t);return a!==SOURCE_FORMAT_ORIGINAL||isObject(n)||(n=null),n?n[r]:void 0}}}exports.DefaultDataProvider=DefaultDataProvider,exports.defaultDimValueGetters=defaultDimValueGetters,exports.retrieveRawValue=retrieveRawValue,exports.retrieveRawAttr=retrieveRawAttr;
//# sourceMappingURL=/sm/61e3496dec840c244be108d21846346bf40759df943c5a5589ae20a6c90d0342.map