/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/data/helper/completeDimensions.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var _util=require("zrender/lib/core/util"),createHashMap=_util.createHashMap,each=_util.each,isString=_util.isString,defaults=_util.defaults,extend=_util.extend,isObject=_util.isObject,clone=_util.clone,_model=require("../../util/model"),normalizeToArray=_model.normalizeToArray,_sourceHelper=require("./sourceHelper"),guessOrdinal=_sourceHelper.guessOrdinal,Source=require("../Source"),_dimensionHelper=require("./dimensionHelper"),OTHER_DIMENSIONS=_dimensionHelper.OTHER_DIMENSIONS;function completeDimensions(e,n,r){Source.isInstance(n)||(n=Source.seriesDataToSource(n)),r=r||{},e=(e||[]).slice();for(var i=(r.dimsDef||[]).slice(),a=createHashMap(r.encodeDef),t=createHashMap(),l=createHashMap(),o=[],u=getDimCount(n,e,i,r.dimCount),s=0;s<u;s++){var m=i[s]=extend({},isObject(i[s])?i[s]:{name:i[s]}),c=m.name,d=o[s]={otherDims:{}};null!=c&&null==t.get(c)&&(d.name=d.displayName=c,t.set(c,s)),null!=m.type&&(d.type=m.type),null!=m.displayName&&(d.displayName=m.displayName)}a.each(function(e,n){if(1===(e=normalizeToArray(e).slice()).length&&!isString(e[0])&&e[0]<0)a.set(n,!1);else{var r=a.set(n,[]);each(e,function(e,i){isString(e)&&(e=t.get(e)),null!=e&&e<u&&(r[i]=e,g(o[e],n,i))})}});var f=0;function g(e,n,r){null!=OTHER_DIMENSIONS.get(n)?e.otherDims[n]=r:(e.coordDim=n,e.coordDimIndex=r,l.set(n,!0))}each(e,function(e,n){var r,i,t;if(isString(e))r=e,e={};else{r=e.name;var l=e.ordinalMeta;e.ordinalMeta=null,(e=clone(e)).ordinalMeta=l,i=e.dimsDef,t=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}if(!1!==(u=a.get(r))){var u;if(!(u=normalizeToArray(u)).length)for(var s=0;s<(i&&i.length||1);s++){for(;f<o.length&&null!=o[f].coordDim;)f++;f<o.length&&u.push(f++)}each(u,function(n,a){var l=o[n];if(g(defaults(l,e),r,a),null==l.name&&i){var u=i[a];!isObject(u)&&(u={name:u}),l.name=l.displayName=u.name,l.defaultTooltip=u.defaultTooltip}t&&defaults(l.otherDims,t)})}});var h=r.generateCoord,D=r.generateCoordCount,p=null!=D;D=h?D||1:0;for(var _=h||"value",v=0;v<u;v++){null==(d=o[v]=o[v]||{}).coordDim&&(d.coordDim=genName(_,l,p),d.coordDimIndex=0,(!h||D<=0)&&(d.isExtraCoord=!0),D--),null==d.name&&(d.name=genName(d.coordDim,t)),null==d.type&&guessOrdinal(n,v,d.name)&&(d.type="ordinal")}return o}function getDimCount(e,n,r,i){var a=Math.max(e.dimensionsDetectCount||1,n.length,r.length,i||0);return each(n,function(e){var n=e.dimsDef;n&&(a=Math.max(a,n.length))}),a}function genName(e,n,r){if(r||null!=n.get(e)){for(var i=0;null!=n.get(e+i);)i++;e+=i}return n.set(e,!0),e}var _default=completeDimensions;module.exports=_default;
//# sourceMappingURL=/sm/3e6da509f297273fbbd07ecde5bd78cc369bbfd3c06a6bf1e1e9b4c07682a907.map