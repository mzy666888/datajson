/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/data/Graph.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var _config=require("../config"),__DEV__=_config.__DEV__,zrUtil=require("zrender/lib/core/util"),_clazz=require("../util/clazz"),enableClassCheck=_clazz.enableClassCheck;function generateNodeKey(e){return"_EC_"+e}var Graph=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},graphProto=Graph.prototype;function Node(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t}function Edge(e,t,n){this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}graphProto.type="graph",graphProto.isDirected=function(){return this._directed},graphProto.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[generateNodeKey(e)]){var a=new Node(e,t);return a.hostGraph=this,this.nodes.push(a),n[generateNodeKey(e)]=a,a}},graphProto.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},graphProto.getNodeById=function(e){return this._nodesMap[generateNodeKey(e)]},graphProto.addEdge=function(e,t,n){var a=this._nodesMap,d=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),Node.isInstance(e)||(e=a[generateNodeKey(e)]),Node.isInstance(t)||(t=a[generateNodeKey(t)]),e&&t){var i=e.id+"-"+t.id;if(!d[i]){var r=new Edge(e,t,n);return r.hostGraph=this,this._directed&&(e.outEdges.push(r),t.inEdges.push(r)),e.edges.push(r),e!==t&&t.edges.push(r),this.edges.push(r),d[i]=r,r}}},graphProto.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},graphProto.getEdge=function(e,t){Node.isInstance(e)&&(e=e.id),Node.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},graphProto.eachNode=function(e,t){for(var n=this.nodes,a=n.length,d=0;d<a;d++)n[d].dataIndex>=0&&e.call(t,n[d],d)},graphProto.eachEdge=function(e,t){for(var n=this.edges,a=n.length,d=0;d<a;d++)n[d].dataIndex>=0&&n[d].node1.dataIndex>=0&&n[d].node2.dataIndex>=0&&e.call(t,n[d],d)},graphProto.breadthFirstTraverse=function(e,t,n,a){if(Node.isInstance(t)||(t=this._nodesMap[generateNodeKey(t)]),t){for(var d="out"===n?"outEdges":"in"===n?"inEdges":"edges",i=0;i<this.nodes.length;i++)this.nodes[i].__visited=!1;if(!e.call(a,t,null))for(var r=[t];r.length;){var o=r.shift(),s=o[d];for(i=0;i<s.length;i++){var h=s[i],g=h.node1===o?h.node2:h.node1;if(!g.__visited){if(e.call(a,g,o))return;r.push(g),g.__visited=!0}}}}},graphProto.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,a=this.edges,d=0,i=n.length;d<i;d++)n[d].dataIndex=-1;for(d=0,i=e.count();d<i;d++)n[e.getRawIndex(d)].dataIndex=d;t.filterSelf(function(e){var n=a[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(d=0,i=a.length;d<i;d++)a[d].dataIndex=-1;for(d=0,i=t.count();d<i;d++)a[t.getRawIndex(d)].dataIndex=d},graphProto.clone=function(){for(var e=new Graph(this._directed),t=this.nodes,n=this.edges,a=0;a<t.length;a++)e.addNode(t[a].id,t[a].dataIndex);for(a=0;a<n.length;a++){var d=n[a];e.addEdge(d.node1.id,d.node2.id,d.dataIndex)}return e},Node.prototype={constructor:Node,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},Edge.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var createGraphDataProxyMixin=function(e,t){return{getValue:function(n){var a=this[e][t];return a.get(a.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,a){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,a)},getVisual:function(n,a){return this[e][t].getItemVisual(this.dataIndex,n,a)},setLayout:function(n,a){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,a)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};zrUtil.mixin(Node,createGraphDataProxyMixin("hostGraph","data")),zrUtil.mixin(Edge,createGraphDataProxyMixin("hostGraph","edgeData")),Graph.Node=Node,Graph.Edge=Edge,enableClassCheck(Node),enableClassCheck(Edge);var _default=Graph;module.exports=_default;
//# sourceMappingURL=/sm/b635badf11b75d86f1dd52f8cc57e5f6e0f41e76227b41c5d34ca41758afa9ad.map