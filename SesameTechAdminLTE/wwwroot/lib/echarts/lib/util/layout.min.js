/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/util/layout.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),BoundingRect=require("zrender/lib/core/BoundingRect"),_number=require("./number"),parsePercent=_number.parsePercent,formatUtil=require("./format"),each=zrUtil.each,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(e,t,r,a,i){var o=0,n=0;null==a&&(a=1/0),null==i&&(i=1/0);var s=0;t.eachChild(function(u,l){var c,h,N=u.position,p=u.getBoundingRect(),g=t.childAt(l+1),m=g&&g.getBoundingRect();if("horizontal"===e){var y=p.width+(m?-m.x+p.x:0);(c=o+y)>a||u.newline?(o=0,c=y,n+=s+r,s=p.height):s=Math.max(s,p.height)}else{var f=p.height+(m?-m.y+p.y:0);(h=n+f)>i||u.newline?(o+=s+r,n=0,h=f,s=p.width):s=Math.max(s,p.width)}u.newline||(N[0]=o,N[1]=n,"horizontal"===e?o=c+r:n=h+r)})}var box=boxLayout,vbox=zrUtil.curry(boxLayout,"vertical"),hbox=zrUtil.curry(boxLayout,"horizontal");function getAvailableSize(e,t,r){var a=t.width,i=t.height,o=parsePercent(e.x,a),n=parsePercent(e.y,i),s=parsePercent(e.x2,a),u=parsePercent(e.y2,i);return(isNaN(o)||isNaN(parseFloat(e.x)))&&(o=0),(isNaN(s)||isNaN(parseFloat(e.x2)))&&(s=a),(isNaN(n)||isNaN(parseFloat(e.y)))&&(n=0),(isNaN(u)||isNaN(parseFloat(e.y2)))&&(u=i),r=formatUtil.normalizeCssArray(r||0),{width:Math.max(s-o-r[1]-r[3],0),height:Math.max(u-n-r[0]-r[2],0)}}function getLayoutRect(e,t,r){r=formatUtil.normalizeCssArray(r||0);var a=t.width,i=t.height,o=parsePercent(e.left,a),n=parsePercent(e.top,i),s=parsePercent(e.right,a),u=parsePercent(e.bottom,i),l=parsePercent(e.width,a),c=parsePercent(e.height,i),h=r[2]+r[0],N=r[1]+r[3],p=e.aspect;switch(isNaN(l)&&(l=a-s-N-o),isNaN(c)&&(c=i-u-h-n),null!=p&&(isNaN(l)&&isNaN(c)&&(p>a/i?l=.8*a:c=.8*i),isNaN(l)&&(l=p*c),isNaN(c)&&(c=l/p)),isNaN(o)&&(o=a-s-l-N),isNaN(n)&&(n=i-u-c-h),e.left||e.right){case"center":o=a/2-l/2-r[3];break;case"right":o=a-l-N}switch(e.top||e.bottom){case"middle":case"center":n=i/2-c/2-r[0];break;case"bottom":n=i-c-h}o=o||0,n=n||0,isNaN(l)&&(l=a-N-o-(s||0)),isNaN(c)&&(c=i-h-n-(u||0));var g=new BoundingRect(o+r[3],n+r[0],l,c);return g.margin=r,g}function positionElement(e,t,r,a,i){var o=!i||!i.hv||i.hv[0],n=!i||!i.hv||i.hv[1],s=i&&i.boundingMode||"all";if(o||n){var u;if("raw"===s)u="group"===e.type?new BoundingRect(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var l=e.getLocalTransform();(u=u.clone()).applyTransform(l)}t=getLayoutRect(zrUtil.defaults({width:u.width,height:u.height},t),r,a);var c=e.position,h=o?t.x-u.x:0,N=n?t.y-u.y:0;e.attr("position","raw"===s?[h,N]:[c[0]+h,c[1]+N])}}function sizeCalculable(e,t){return null!=e[HV_NAMES[t][0]]||null!=e[HV_NAMES[t][1]]&&null!=e[HV_NAMES[t][2]]}function mergeLayoutParam(e,t,r){!zrUtil.isObject(r)&&(r={});var a=r.ignoreSize;!zrUtil.isArray(a)&&(a=[a,a]);var i=n(HV_NAMES[0],0),o=n(HV_NAMES[1],1);function n(r,i){var o={},n=0,l={},c=0;if(each(r,function(t){l[t]=e[t]}),each(r,function(e){s(t,e)&&(o[e]=l[e]=t[e]),u(o,e)&&n++,u(l,e)&&c++}),a[i])return u(t,r[1])?l[r[2]]=null:u(t,r[2])&&(l[r[1]]=null),l;if(2!==c&&n){if(n>=2)return o;for(var h=0;h<r.length;h++){var N=r[h];if(!s(o,N)&&s(e,N)){o[N]=e[N];break}}return o}return l}function s(e,t){return e.hasOwnProperty(t)}function u(e,t){return null!=e[t]&&"auto"!==e[t]}function l(e,t,r){each(e,function(e){t[e]=r[e]})}l(HV_NAMES[0],e,i),l(HV_NAMES[1],e,o)}function getLayoutParams(e){return copyLayoutParams({},e)}function copyLayoutParams(e,t){return t&&e&&each(LOCATION_PARAMS,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}exports.LOCATION_PARAMS=LOCATION_PARAMS,exports.HV_NAMES=HV_NAMES,exports.box=box,exports.vbox=vbox,exports.hbox=hbox,exports.getAvailableSize=getAvailableSize,exports.getLayoutRect=getLayoutRect,exports.positionElement=positionElement,exports.sizeCalculable=sizeCalculable,exports.mergeLayoutParam=mergeLayoutParam,exports.getLayoutParams=getLayoutParams,exports.copyLayoutParams=copyLayoutParams;
//# sourceMappingURL=/sm/73844be06a6d713fbecef3f60c0265d6e84992d9a48f1c4b065d3d7eb551b3b2.map