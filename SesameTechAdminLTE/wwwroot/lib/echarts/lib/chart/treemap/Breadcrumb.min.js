/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/treemap/Breadcrumb.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var graphic=require("../../util/graphic"),layout=require("../../util/layout"),zrUtil=require("zrender/lib/core/util"),_treeHelper=require("../helper/treeHelper"),wrapTreePathInfo=_treeHelper.wrapTreePathInfo,TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5;function Breadcrumb(e){this.group=new graphic.Group,e.add(this.group)}function makeItemPoints(e,t,r,o,n,a){var i=[[n?e:e-ARRAY_LENGTH,t],[e+r,t],[e+r,t+o],[n?e:e-ARRAY_LENGTH,t+o]];return!a&&i.splice(2,0,[e+r+ARRAY_LENGTH,t+o/2]),!n&&i.push([e,t+o/2]),i}function packEventData(e,t,r){e.eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&wrapTreePathInfo(r,t)}}Breadcrumb.prototype={constructor:Breadcrumb,render:function(e,t,r,o){var n=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),n.get("show")&&r){var i=n.getModel("itemStyle"),p=i.getModel("textStyle"),l={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,l,p),this._renderContent(e,l,i,p,o),layout.positionElement(a,l.pos,l.box)}},_prepare:function(e,t,r){for(var o=e;o;o=o.parentNode){var n=o.getModel().get("name"),a=r.getTextRect(n),i=Math.max(a.width+2*TEXT_PADDING,t.emptyItemWidth);t.totalWidth+=i+ITEM_GAP,t.renderList.push({node:o,text:n,width:i})}},_renderContent:function(e,t,r,o,n){for(var a=0,i=t.emptyItemWidth,p=e.get("breadcrumb.height"),l=layout.getAvailableSize(t.pos,t.box),d=t.totalWidth,h=t.renderList,u=h.length-1;u>=0;u--){var m=h[u],g=m.node,s=m.width,c=m.text;d>l.width&&(d-=s-i,s=i,c=null);var I=new graphic.Polygon({shape:{points:makeItemPoints(a,0,s,p,u===h.length-1,0===u)},style:zrUtil.defaults(r.getItemStyle(),{lineJoin:"bevel",text:c,textFill:o.getTextColor(),textFont:o.getFont()}),z:10,onclick:zrUtil.curry(n,g)});this.group.add(I),packEventData(I,e,g),a+=s+ITEM_GAP}},remove:function(){this.group.removeAll()}};var _default=Breadcrumb;module.exports=_default;
//# sourceMappingURL=/sm/27a0209d8cdede5272f1c4de0a4ee3d8650820d2f20949d9e27084fef4ad2577.map