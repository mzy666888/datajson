/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/treemap/TreemapSeries.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),SeriesModel=require("../../model/Series"),Tree=require("../../data/Tree"),Model=require("../../model/Model"),_format=require("../../util/format"),encodeHTML=_format.encodeHTML,addCommas=_format.addCommas,_treeHelper=require("../helper/treeHelper"),wrapTreePathInfo=_treeHelper.wrapTreePathInfo,_default=SeriesModel.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var o={name:e.name,children:e.data};completeTreeValue(o);var r=e.levels||[];r=e.levels=setDefault(r,t);var i={};return i.levels=r,Tree.createTree(o,this,i).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),o=this.getRawValue(e),r=zrUtil.isArray(o)?addCommas(o[0]):addCommas(o),i=t.getName(e);return encodeHTML(i+": "+r)},getDataParams:function(e){var t=SeriesModel.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=wrapTreePathInfo(o,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},zrUtil.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=zrUtil.createHashMap(),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});function completeTreeValue(e){var t=0;zrUtil.each(e.children,function(e){completeTreeValue(e);var o=e.value;zrUtil.isArray(o)&&(o=o[0]),t+=o});var o=e.value;zrUtil.isArray(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),zrUtil.isArray(e.value)?e.value[0]=o:e.value=o}function setDefault(e,t){var o=t.get("color");if(o){var r;if(e=e||[],zrUtil.each(e,function(e){var t=new Model(e),o=t.get("color");(t.get("itemStyle.color")||o&&"none"!==o)&&(r=!0)}),!r)(e[0]||(e[0]={})).color=o.slice();return e}}module.exports=_default;
//# sourceMappingURL=/sm/f761615880f3b5a2568d9459189d69712e2b81935cf3adc58f676203e481191e.map