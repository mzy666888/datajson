/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/helper/Symbol.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),_symbol=require("../../util/symbol"),createSymbol=_symbol.createSymbol,graphic=require("../../util/graphic"),_number=require("../../util/number"),parsePercent=_number.parsePercent,_labelHelper=require("./labelHelper"),getDefaultLabel=_labelHelper.getDefaultLabel;function SymbolClz(e,t,l){graphic.Group.call(this),this.updateData(e,t,l)}var symbolProto=SymbolClz.prototype,getSymbolSize=SymbolClz.getSymbolSize=function(e,t){var l=e.getItemVisual(t,"symbolSize");return l instanceof Array?l.slice():[+l,+l]};function getScale(e){return[e[0]/2,e[1]/2]}function driftSymbol(e,t){this.parent.drift(e,t)}symbolProto._createSymbol=function(e,t,l,a,o){this.removeAll();var i=t.getItemVisual(l,"color"),s=createSymbol(e,-1,-1,2,2,i,o);s.attr({z2:100,culling:!0,scale:getScale(a)}),s.drift=driftSymbol,this._symbolType=e,this.add(s)},symbolProto.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},symbolProto.getSymbolPath=function(){return this.childAt(0)},symbolProto.getScale=function(){return this.childAt(0).scale},symbolProto.highlight=function(){this.childAt(0).trigger("emphasis")},symbolProto.downplay=function(){this.childAt(0).trigger("normal")},symbolProto.setZ=function(e,t){var l=this.childAt(0);l.zlevel=e,l.z=t},symbolProto.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},symbolProto.updateData=function(e,t,l){this.silent=!1;var a=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,i=getSymbolSize(e,t),s=a!==this._symbolType;if(s){var r=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(a,e,t,i,r)}else{(n=this.childAt(0)).silent=!1,graphic.updateProps(n,{scale:getScale(i)},o,t)}if(this._updateCommon(e,t,i,l),s){var n=this.childAt(0),c=l&&l.fadeIn,m={scale:n.scale.slice()};c&&(m.style={opacity:n.style.opacity}),n.scale=[0,0],c&&(n.style.opacity=0),graphic.initProps(n,m,o,t)}this._seriesModel=o};var normalStyleAccessPath=["itemStyle"],emphasisStyleAccessPath=["emphasis","itemStyle"],normalLabelAccessPath=["label"],emphasisLabelAccessPath=["emphasis","label"];function highDownOnUpdate(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var l=this.__symbolOriginalScale,a=l[1]/l[0],o={scale:[Math.max(1.1*l[0],l[0]+3),Math.max(1.1*l[1],l[1]+3*a)]};this.animateTo(o,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}symbolProto._updateCommon=function(e,t,l,a){var o=this.childAt(0),i=e.hostModel,s=e.getItemVisual(t,"color");"image"!==o.type?o.useStyle({strokeNoScale:!0}):o.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var r=a&&a.itemStyle,n=a&&a.hoverItemStyle,c=a&&a.symbolRotate,m=a&&a.symbolOffset,h=a&&a.labelModel,u=a&&a.hoverLabelModel,y=a&&a.hoverAnimation,b=a&&a.cursorStyle;if(!a||e.hasItemOption){var g=a&&a.itemModel?a.itemModel:e.getItemModel(t);r=g.getModel(normalStyleAccessPath).getItemStyle(["color"]),n=g.getModel(emphasisStyleAccessPath).getItemStyle(),c=g.getShallow("symbolRotate"),m=g.getShallow("symbolOffset"),h=g.getModel(normalLabelAccessPath),u=g.getModel(emphasisLabelAccessPath),y=g.getShallow("hoverAnimation"),b=g.getShallow("cursor")}else n=zrUtil.extend({},n);var p=o.style;o.attr("rotation",(c||0)*Math.PI/180||0),m&&o.attr("position",[parsePercent(m[0],l[0]),parsePercent(m[1],l[1])]),b&&o.attr("cursor",b),o.setColor(s,a&&a.symbolInnerColor),o.setStyle(r);var d=e.getItemVisual(t,"opacity");null!=d&&(p.opacity=d);var S=e.getItemVisual(t,"liftZ"),f=o.__z2Origin;null!=S?null==f&&(o.__z2Origin=o.z2,o.z2+=S):null!=f&&(o.z2=f,o.__z2Origin=null);var v=a&&a.useNameLabel;graphic.setLabelStyle(p,n,h,u,{labelFetcher:i,labelDataIndex:t,defaultText:function(t,l){return v?e.getName(t):getDefaultLabel(e,t)},isRectText:!0,autoColor:s}),o.__symbolOriginalScale=getScale(l),o.hoverStyle=n,o.highDownOnUpdate=y&&i.isAnimationEnabled()?highDownOnUpdate:null,graphic.setHoverStyle(o)},symbolProto.fadeOut=function(e,t){var l=this.childAt(0);this.silent=l.silent=!0,(!t||!t.keepLabel)&&(l.style.text=null),graphic.updateProps(l,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},zrUtil.inherits(SymbolClz,graphic.Group);var _default=SymbolClz;module.exports=_default;
//# sourceMappingURL=/sm/37d7e0bcd4e87769b30ae20d65d1039edc92de91143fe8adb2f3783075877b82.map