/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/helper/EffectPolyline.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var Polyline=require("./Polyline"),zrUtil=require("zrender/lib/core/util"),EffectLine=require("./EffectLine"),vec2=require("zrender/lib/core/vector");function EffectPolyline(e,t,i){EffectLine.call(this,e,t,i),this._lastFrame=0,this._lastFramePercent=0}var effectPolylineProto=EffectPolyline.prototype;effectPolylineProto.createLine=function(e,t,i){return new Polyline(e,t,i)},effectPolylineProto.updateAnimationPoints=function(e,t){this._points=t;for(var i=[0],n=0,r=1;r<t.length;r++){var o=t[r-1],l=t[r];n+=vec2.dist(o,l),i.push(n)}if(0!==n){for(r=0;r<i.length;r++)i[r]/=n;this._offsets=i,this._length=n}},effectPolylineProto.getLineLength=function(e){return this._length},effectPolylineProto.updateSymbolPosition=function(e){var t=e.__t,i=this._points,n=this._offsets,r=i.length;if(n){var o=this._lastFrame;if(t<this._lastFramePercent){for(l=Math.min(o+1,r-1);l>=0&&!(n[l]<=t);l--);l=Math.min(l,r-2)}else{for(var l=o;l<r&&!(n[l]>t);l++);l=Math.min(l-1,r-2)}vec2.lerp(e.position,i[l],i[l+1],(t-n[l])/(n[l+1]-n[l]));var f=i[l+1][0]-i[l][0],a=i[l+1][1]-i[l][1];e.rotation=-Math.atan2(a,f)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=t,e.ignore=!1}},zrUtil.inherits(EffectPolyline,EffectLine);var _default=EffectPolyline;module.exports=_default;
//# sourceMappingURL=/sm/3bc3056bdf320bf23a47146a926c617fc310d3ea2b6997cafe19964e79b003e8.map