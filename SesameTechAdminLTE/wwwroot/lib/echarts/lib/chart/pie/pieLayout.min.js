/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/pie/pieLayout.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var _number=require("../../util/number"),parsePercent=_number.parsePercent,linearMap=_number.linearMap,labelLayout=require("./labelLayout"),zrUtil=require("zrender/lib/core/util"),PI2=2*Math.PI,RADIAN=Math.PI/180;function _default(e,a,t,r){a.eachSeriesByType(e,function(e){var a=e.getData(),r=a.mapDimension("value"),n=e.get("center"),i=e.get("radius");zrUtil.isArray(i)||(i=[0,i]),zrUtil.isArray(n)||(n=[n,n]);var l=t.getWidth(),s=t.getHeight(),c=Math.min(l,s),g=parsePercent(n[0],l),u=parsePercent(n[1],s),o=parsePercent(i[0],c/2),N=parsePercent(i[1],c/2),A=-e.get("startAngle")*RADIAN,m=e.get("minAngle")*RADIAN,I=0;a.each(r,function(e){!isNaN(e)&&I++});var y=a.getSum(r),P=Math.PI/(y||I)*2,f=e.get("clockwise"),p=e.get("roseType"),h=e.get("stillShowZeroSum"),v=a.getDataExtent(r);v[0]=0;var d=PI2,b=0,L=A,M=f?1:-1;if(a.each(r,function(e,t){var r;if(isNaN(e))a.setItemLayout(t,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:f,cx:g,cy:u,r0:o,r:p?NaN:N});else{(r="area"!==p?0===y&&h?P:e*P:PI2/I)<m?(r=m,d-=m):b+=e;var n=L+M*r;a.setItemLayout(t,{angle:r,startAngle:L,endAngle:n,clockwise:f,cx:g,cy:u,r0:o,r:p?linearMap(e,v,[o,N]):N}),L=n}}),d<PI2&&I)if(d<=.001){var D=PI2/I;a.each(r,function(e,t){if(!isNaN(e)){var r=a.getItemLayout(t);r.angle=D,r.startAngle=A+M*t*D,r.endAngle=A+M*(t+1)*D}})}else P=d/b,L=A,a.each(r,function(e,t){if(!isNaN(e)){var r=a.getItemLayout(t),n=r.angle===m?m:e*P;r.startAngle=L,r.endAngle=L+M*n,L+=M*n}});labelLayout(e,N,l,s)})}module.exports=_default;
//# sourceMappingURL=/sm/d78e5565b98e129060fa29b13c7923e712e0e3eb1d35b3816597022076d4c50b.map