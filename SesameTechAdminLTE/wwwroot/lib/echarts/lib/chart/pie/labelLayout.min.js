/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/pie/labelLayout.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var textContain=require("zrender/lib/contain/text"),RADIAN=Math.PI/180;function adjustSingleSide(e,t,n,i,r,a,o){function l(t,n,i,r){for(var a=t;a<n;a++)if(e[a].y+=i,a>t&&a+1<n&&e[a+1].y>e[a].y+e[a].height)return void g(a,i/2);g(n-1,i/2)}function g(t,n){for(var i=t;i>=0&&(e[i].y-=n,!(i>0&&e[i].y>e[i-1].y+e[i-1].height));i--);}function h(e,t,n,i,r,a){for(var o=t?Number.MAX_VALUE:0,l=0,g=e.length;l<g;l++){var h=Math.abs(e[l].y-i),s=e[l].len,u=e[l].len2,f=h<r+s?Math.sqrt((r+s+u)*(r+s+u)-h*h):Math.abs(e[l].x-n);t&&f>=o&&(f=o-10),!t&&f<=o&&(f=o+10),e[l].x=n+f*a,o=f}}e.sort(function(e,t){return e.y-t.y});for(var s,u=0,f=e.length,v=[],d=[],c=0;c<f;c++)(s=e[c].y-u)<0&&l(c,f,-s),u=e[c].y+e[c].height;o-u<0&&g(f-1,u-o);for(c=0;c<f;c++)e[c].y>=n?d.push(e[c]):v.push(e[c]);h(v,!1,t,n,i,r),h(d,!0,t,n,i,r)}function avoidOverlap(e,t,n,i,r,a){for(var o=[],l=[],g=0;g<e.length;g++)isPositionCenter(e[g])||(e[g].x<t?o.push(e[g]):l.push(e[g]));adjustSingleSide(l,t,n,i,1,r,a),adjustSingleSide(o,t,n,i,-1,r,a);for(g=0;g<e.length;g++)if(!isPositionCenter(e[g])){var h=e[g].linePoints;if(h){var s=h[1][0]-h[2][0];e[g].x<t?h[2][0]=e[g].x+3:h[2][0]=e[g].x-3,h[1][1]=h[2][1]=e[g].y,h[1][0]=h[2][0]+s}}}function isPositionCenter(e){return"center"===e.position}function _default(e,t,n,i,r){var a,o,l=e.getData(),g=[],h=!1,s=(e.get("minShowLabelAngle")||0)*RADIAN;l.each(function(n){var i=l.getItemLayout(n),r=l.getItemModel(n),u=r.getModel("label"),f=u.get("position")||r.get("emphasis.label.position"),v=r.getModel("labelLine"),d=v.get("length"),c=v.get("length2");if(!(i.angle<s)){var y,p,x,b,M=(i.startAngle+i.endAngle)/2,m=Math.cos(M),A=Math.sin(M);a=i.cx,o=i.cy;var P="inside"===f||"inner"===f;if("center"===f)y=i.cx,p=i.cy,b="center";else{var I=(P?(i.r+i.r0)/2*m:i.r*m)+a,S=(P?(i.r+i.r0)/2*A:i.r*A)+o;if(y=I+3*m,p=S+3*A,!P){var L=I+m*(d+t-i.r),C=S+A*(d+t-i.r),N=L+(m<0?-1:1)*c;y=N+(m<0?-5:5),p=C,x=[[I,S],[L,C],[N,C]]}b=P?"center":m>0?"left":"right"}var j,D=u.getFont(),O=u.get("rotate");j="number"==typeof O?O*(Math.PI/180):O?m<0?-M+Math.PI:-M:0;var R=e.getFormattedLabel(n,"normal")||l.getName(n),_=textContain.getBoundingRect(R,D,b,"top");h=!!j,i.label={x:y,y:p,position:f,height:_.height,len:d,len2:c,linePoints:x,textAlign:b,verticalAlign:"middle",rotation:j,inside:P},P||g.push(i.label)}}),!h&&e.get("avoidLabelOverlap")&&avoidOverlap(g,a,o,t,n,i)}module.exports=_default;
//# sourceMappingURL=/sm/d336680562f83f5e05779554faf608cf22b28a7bad37e889c08e3f74cea29ac0.map