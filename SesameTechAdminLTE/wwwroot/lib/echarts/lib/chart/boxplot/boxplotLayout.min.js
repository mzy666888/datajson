/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/boxplot/boxplotLayout.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),_number=require("../../util/number"),parsePercent=_number.parsePercent,each=zrUtil.each;function _default(e){var t=groupSeriesByAxis(e);each(t,function(e){var t=e.seriesModels;t.length&&(calculateBase(e),each(t,function(t,a){layoutSingleSeries(t,e.boxOffsetList[a],e.boxWidthList[a])}))})}function groupSeriesByAxis(e){var t=[],a=[];return e.eachSeriesByType("boxplot",function(e){var i=e.getBaseAxis(),n=zrUtil.indexOf(a,i);n<0&&(n=a.length,a[n]=i,t[n]={axis:i,seriesModels:[]}),t[n].seriesModels.push(e)}),t}function calculateBase(e){var t,a,i=e.axis,n=e.seriesModels,r=n.length,s=e.boxWidthList=[],o=e.boxOffsetList=[],u=[];if("category"===i.type)a=i.getBandWidth();else{var c=0;each(n,function(e){c=Math.max(c,e.getData().count())}),t=i.getExtent(),Math.abs(t[1]-t[0])}each(n,function(e){var t=e.get("boxWidth");zrUtil.isArray(t)||(t=[t,t]),u.push([parsePercent(t[0],a)||0,parsePercent(t[1],a)||0])});var l=.8*a-2,h=l/r*.3,f=(l-h*(r-1))/r,p=f/2-l/2;each(n,function(e,t){o.push(p),p+=h+f,s.push(Math.min(Math.max(f,u[t][0]),u[t][1]))})}function layoutSingleSeries(e,t,a){var i=e.coordinateSystem,n=e.getData(),r=a/2,s="horizontal"===e.get("layout")?0:1,o=1-s,u=["x","y"],c=n.mapDimension(u[s]),l=n.mapDimension(u[o],!0);if(!(null==c||l.length<5))for(var h=0;h<n.count();h++){var f=n.get(c,h),p=y(f,l[2],h),g=y(f,l[0],h),d=y(f,l[1],h),x=y(f,l[3],h),v=y(f,l[4],h),m=[];b(m,d,0),b(m,x,1),m.push(g,d,v,x),B(m,g),B(m,v),B(m,p),n.setItemLayout(h,{initBaseline:p[o],ends:m})}function y(e,a,r){var u,c=n.get(a,r),l=[];return l[s]=e,l[o]=c,isNaN(e)||isNaN(c)?u=[NaN,NaN]:(u=i.dataToPoint(l))[s]+=t,u}function b(e,t,a){var i=t.slice(),n=t.slice();i[s]+=r,n[s]-=r,a?e.push(i,n):e.push(n,i)}function B(e,t){var a=t.slice(),i=t.slice();a[s]-=r,i[s]+=r,e.push(a,i)}}module.exports=_default;
//# sourceMappingURL=/sm/7f41828efc70c974751c8d3e5ebc00d511dd19588c3e9afa64ddbfd84b104cbd.map