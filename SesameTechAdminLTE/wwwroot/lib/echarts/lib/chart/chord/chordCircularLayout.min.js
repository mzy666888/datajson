/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/chord/chordCircularLayout.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),_number=require("../../util/number"),parsePercent=_number.parsePercent;function layout(e,r){zrUtil.isArray(e)||(e=[e]);var t=e[0],s=[];t.eachNode(function(e){var r={size:0,subGroups:[],node:e};s.push(r)}),zrUtil.each(e,function(e){e.eachEdge(function(e){var r=s[e.node1.dataIndex];r.size+=e.getValue("value")||0,r.subGroups.push({size:e.getValue("value"),edge:e})})});var n=zrUtil.reduce(s,function(e,r){return e+r.size},0);r.sort&&"none"!==r.sort&&(s.sort(compareGroups),"descending"===r.sort&&s.reverse());var c=(2*Math.PI-r.padding*t.data.count())/n,o=r.startAngle*Math.PI/180,a=r.clockwise?-1:1;zrUtil.each(s,function(e){r.sortSub&&"none"!==r.sortSub&&(e.subGroups.sort(compareGroups),"descending"===r.sortSub&&e.subGroups.reverse());var t=o+a*e.size*c;e.node.setLayout({startAngle:-o,endAngle:-t,cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,clockwise:r.clockwise}),zrUtil.each(e.subGroups,function(e){var t=o,s=o+a*e.size*c,n=e.edge.getLayout()||{cx:r.cx,cy:r.cy,r:r.r0,clockwise:r.clockwise};n.startAngle=-t,n.endAngle=-s,e.edge.setLayout(n),o=s}),o=t+a*r.padding})}var compareGroups=function(e,r){return e.size-r.size};function _default(e,r,t){e.eachSeriesByType("chord",function(e){var t=e.getGraph(),s=e.get("center"),n=e.get("radius"),c=r.getWidth(),o=r.getHeight(),a=Math.min(c,o)/2;layout(t,{sort:e.get("sort"),sortSub:e.get("sortSub"),padding:e.get("padding"),startAngle:e.get("startAngle"),clockwise:e.get("clockwise"),cx:parsePercent(s[0],c),cy:parsePercent(s[1],o),r0:parsePercent(n[0],a),r:parsePercent(n[1],a)})})}module.exports=_default;
//# sourceMappingURL=/sm/34104edf311adea094e1052c367d54c5352c13e10f738a8a442cf00e751c644c.map