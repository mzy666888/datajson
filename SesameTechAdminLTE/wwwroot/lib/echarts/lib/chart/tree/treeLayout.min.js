/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/tree/treeLayout.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var _traversalHelper=require("./traversalHelper"),eachAfter=_traversalHelper.eachAfter,eachBefore=_traversalHelper.eachBefore,_layoutHelper=require("./layoutHelper"),init=_layoutHelper.init,firstWalk=_layoutHelper.firstWalk,secondWalk=_layoutHelper.secondWalk,sep=_layoutHelper.separation,radialCoordinate=_layoutHelper.radialCoordinate,getViewRect=_layoutHelper.getViewRect;function _default(e,t){e.eachSeriesByType("tree",function(e){commonLayout(e,t)})}function commonLayout(e,t){var a=getViewRect(e,t);e.layoutInfo=a;var r=e.get("layout"),o=0,i=0,l=null;"radial"===r?(o=2*Math.PI,i=Math.min(a.height,a.width)/2,l=sep(function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth})):(o=a.width,i=a.height,l=sep());var u=e.getData().tree.root,n=u.children[0];if(n){init(u),eachAfter(n,firstWalk,l),u.hierNode.modifier=-n.hierNode.prelim,eachBefore(n,secondWalk);var d=n,h=n,p=n;eachBefore(n,function(e){var t=e.getLayout().x;t<d.getLayout().x&&(d=e),t>h.getLayout().x&&(h=e),e.depth>p.depth&&(p=e)});var y=d===h?1:l(d,h)/2,c=y-d.getLayout().x,f=0,s=0,g=0,L=0;if("radial"===r)f=o/(h.getLayout().x+y+c),s=i/(p.depth-1||1),eachBefore(n,function(e){g=(e.getLayout().x+c)*f,L=(e.depth-1)*s;var t=radialCoordinate(g,L);e.setLayout({x:t.x,y:t.y,rawX:g,rawY:L},!0)});else{var x=e.getOrient();"RL"===x||"LR"===x?(s=i/(h.getLayout().x+y+c),f=o/(p.depth-1||1),eachBefore(n,function(e){L=(e.getLayout().x+c)*s,g="LR"===x?(e.depth-1)*f:o-(e.depth-1)*f,e.setLayout({x:g,y:L},!0)})):"TB"!==x&&"BT"!==x||(f=o/(h.getLayout().x+y+c),s=i/(p.depth-1||1),eachBefore(n,function(e){g=(e.getLayout().x+c)*f,L="TB"===x?(e.depth-1)*s:i-(e.depth-1)*s,e.setLayout({x:g,y:L},!0)}))}}}module.exports=_default;
//# sourceMappingURL=/sm/57f69914b3d4ff04f1746d1e8c54cc9a3f8c421f1ddc80d6e68ea0496657df36.map