/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/tree/layoutHelper.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var layout=require("../../util/layout");function init(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r,i,o=[e];r=o.pop();)if(i=r.children,r.isExpand&&i.length)for(var t=i.length-1;t>=0;t--){var n=i[t];n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:t,thread:null},o.push(n)}}function firstWalk(e,r){var i=e.isExpand?e.children:[],o=e.parentNode.children,t=e.hierNode.i?o[e.hierNode.i-1]:null;if(i.length){executeShifts(e);var n=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;t?(e.hierNode.prelim=t.hierNode.prelim+r(e,t),e.hierNode.modifier=e.hierNode.prelim-n):e.hierNode.prelim=n}else t&&(e.hierNode.prelim=t.hierNode.prelim+r(e,t));e.parentNode.hierNode.defaultAncestor=apportion(e,t,e.parentNode.hierNode.defaultAncestor||o[0],r)}function secondWalk(e){var r=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:r},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function separation(e){return arguments.length?e:defaultSeparation}function radialCoordinate(e,r){var i={};return e-=Math.PI/2,i.x=r*Math.cos(e),i.y=r*Math.sin(e),i}function getViewRect(e,r){return layout.getLayoutRect(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function executeShifts(e){for(var r=e.children,i=r.length,o=0,t=0;--i>=0;){var n=r[i];n.hierNode.prelim+=o,n.hierNode.modifier+=o,t+=n.hierNode.change,o+=n.hierNode.shift+t}}function apportion(e,r,i,o){if(r){for(var t=e,n=e,d=n.parentNode.children[0],h=r,a=t.hierNode.modifier,l=n.hierNode.modifier,N=d.hierNode.modifier,f=h.hierNode.modifier;h=nextRight(h),n=nextLeft(n),h&&n;){t=nextRight(t),d=nextLeft(d),t.hierNode.ancestor=e;var p=h.hierNode.prelim+f-n.hierNode.prelim-l+o(h,n);p>0&&(moveSubtree(nextAncestor(h,e,i),e,p),l+=p,a+=p),f+=h.hierNode.modifier,l+=n.hierNode.modifier,a+=t.hierNode.modifier,N+=d.hierNode.modifier}h&&!nextRight(t)&&(t.hierNode.thread=h,t.hierNode.modifier+=f-a),n&&!nextLeft(d)&&(d.hierNode.thread=n,d.hierNode.modifier+=l-N,i=e)}return i}function nextRight(e){var r=e.children;return r.length&&e.isExpand?r[r.length-1]:e.hierNode.thread}function nextLeft(e){var r=e.children;return r.length&&e.isExpand?r[0]:e.hierNode.thread}function nextAncestor(e,r,i){return e.hierNode.ancestor.parentNode===r.parentNode?e.hierNode.ancestor:i}function moveSubtree(e,r,i){var o=i/(r.hierNode.i-e.hierNode.i);r.hierNode.change-=o,r.hierNode.shift+=i,r.hierNode.modifier+=i,r.hierNode.prelim+=i,e.hierNode.change+=o}function defaultSeparation(e,r){return e.parentNode===r.parentNode?1:2}exports.init=init,exports.firstWalk=firstWalk,exports.secondWalk=secondWalk,exports.separation=separation,exports.radialCoordinate=radialCoordinate,exports.getViewRect=getViewRect;
//# sourceMappingURL=/sm/7c3770dc1733e20734481f2605e97c002b8a6d4ba8f39162b4934826e0ce17b1.map