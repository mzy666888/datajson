/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/lines/LinesView.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var _config=require("../../config"),__DEV__=_config.__DEV__,echarts=require("../../echarts"),LineDraw=require("../helper/LineDraw"),EffectLine=require("../helper/EffectLine"),Line=require("../helper/Line"),Polyline=require("../helper/Polyline"),EffectPolyline=require("../helper/EffectPolyline"),LargeLineDraw=require("../helper/LargeLineDraw"),linesLayout=require("./linesLayout"),_createClipPathFromCoordSys=require("../helper/createClipPathFromCoordSys"),createClipPath=_createClipPathFromCoordSys.createClipPath,_default=echarts.extendChartView({type:"lines",init:function(){},render:function(e,t,r){var i=e.getData(),a=this._updateLineDraw(i,e),n=e.get("zlevel"),l=e.get("effect.trailLength"),s=r.getZr(),o="svg"===s.painter.getType();o||s.painter.getLayer(n).clear(!0),null==this._lastZlevel||o||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l&&(o||s.configLayer(n,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(i);var h=e.get("clip",!0)&&createClipPath(e.coordinateSystem,!1,e);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=n,this._finished=!0},incrementalPrepareRender:function(e,t,r){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(r),this._finished=!1},incrementalRender:function(e,t,r){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,r){var i=e.getData(),a=e.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var n=linesLayout.reset(e);n.progress&&n.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(r)},_updateLineDraw:function(e,t){var r=this._lineDraw,i=this._showEffect(t),a=!!t.get("polyline"),n=t.pipelineContext.large;return r&&i===this._hasEffet&&a===this._isPolyline&&n===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=n?new LargeLineDraw:new LineDraw(a?i?EffectPolyline:Polyline:i?EffectLine:Line),this._hasEffet=i,this._isPolyline=a,this._isLargeDraw=n,this.group.removeAll()),this.group.add(r.group),r},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});module.exports=_default;
//# sourceMappingURL=/sm/114805153c62d7dc411565e81e6c553195c444a5fd0a454a30965eeb103b3e47.map