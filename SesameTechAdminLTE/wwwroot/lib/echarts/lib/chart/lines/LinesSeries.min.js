/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/chart/lines/LinesSeries.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var _config=require("../../config"),__DEV__=_config.__DEV__,SeriesModel=require("../../model/Series"),List=require("../../data/List"),_util=require("zrender/lib/core/util"),concatArray=_util.concatArray,mergeAll=_util.mergeAll,map=_util.map,_format=require("../../util/format"),encodeHTML=_format.encodeHTML,CoordinateSystem=require("../../CoordinateSystem"),Uint32Arr="undefined"==typeof Uint32Array?Array:Uint32Array,Float64Arr="undefined"==typeof Float64Array?Array:Float64Array;function compatEc2(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=map(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),mergeAll([e,t[0],t[1]])}))}var LinesSeries=SeriesModel.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],compatEc2(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),LinesSeries.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],compatEc2(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}LinesSeries.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,e.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var o=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],a=0;a<r;a++)e[a]=e[a]||[],e[a][0]=this._flatCoords[o+2*a],e[a][1]=this._flatCoords[o+2*a+1];return r}var s=this._getCoordsFromItemModel(t);for(a=0;a<s.length;a++)e[a]=e[a]||[],e[a][0]=s[a][0],e[a][1]=s[a][1];return s.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var o=t.length,r=new Uint32Arr(o),a=new Float64Arr(o),s=0,n=0,i=0,l=0;l<o;){i++;var f=t[l++];r[n++]=s+e,r[n++]=f;for(var d=0;d<f;d++){var u=t[l++],c=t[l++];a[s++]=u,a[s++]=c}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,n),flatCoords:a,count:i}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var o=new List(["value"],this);return o.hasItemOption=!1,o.initData(t.data,[],function(t,e,r,a){if(t instanceof Array)return NaN;o.hasItemOption=!0;var s=t.value;return null!=s?s instanceof Array?s[a]:s:void 0}),o},formatTooltip:function(t){var e=this.getData().getItemModel(t),o=e.get("name");if(o)return o;var r=e.get("fromName"),a=e.get("toName"),s=[];return null!=r&&s.push(r),null!=a&&s.push(a),encodeHTML(s.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),_default=LinesSeries;module.exports=_default;
//# sourceMappingURL=/sm/d0beb042f804c06a902105e133752b3eef4458c5af053814dab60d2ed6508687.map