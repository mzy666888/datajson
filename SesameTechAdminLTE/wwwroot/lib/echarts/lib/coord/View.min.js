/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/coord/View.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var zrUtil=require("zrender/lib/core/util"),vector=require("zrender/lib/core/vector"),matrix=require("zrender/lib/core/matrix"),BoundingRect=require("zrender/lib/core/BoundingRect"),Transformable=require("zrender/lib/mixin/Transformable"),v2ApplyTransform=vector.applyTransform;function TransformDummy(){Transformable.call(this)}function View(r){this.name=r,this.zoomLimit,Transformable.call(this),this._roamTransformable=new TransformDummy,this._rawTransformable=new TransformDummy,this._center,this._zoom}function doConvert(r,t,n,e){var o=n.seriesModel,i=o?o.coordinateSystem:null;return i===this?i[r](e):null}zrUtil.mixin(TransformDummy,Transformable),View.prototype={constructor:View,type:"view",dimensions:["x","y"],setBoundingRect:function(r,t,n,e){return this._rect=new BoundingRect(r,t,n,e),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(r,t,n,e){this.transformTo(r,t,n,e),this._viewRect=new BoundingRect(r,t,n,e)},transformTo:function(r,t,n,e){var o=this.getBoundingRect(),i=this._rawTransformable;i.transform=o.calculateTransform(new BoundingRect(r,t,n,e)),i.decomposeTransform(),this._updateTransform()},setCenter:function(r){r&&(this._center=r,this._updateCenterAndZoom())},setZoom:function(r){r=r||1;var t=this.zoomLimit;t&&(null!=t.max&&(r=Math.min(t.max,r)),null!=t.min&&(r=Math.max(t.min,r))),this._zoom=r,this._updateCenterAndZoom()},getDefaultCenter:function(){var r=this.getBoundingRect();return[r.x+r.width/2,r.y+r.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var r=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),e=this.getCenter(),o=this.getZoom();e=vector.applyTransform([],e,r),n=vector.applyTransform([],n,r),t.origin=e,t.position=[n[0]-e[0],n[1]-e[1]],t.scale=[o,o],this._updateTransform()},_updateTransform:function(){var r=this._roamTransformable,t=this._rawTransformable;t.parent=r,r.updateTransform(),t.updateTransform(),matrix.copy(this.transform||(this.transform=[]),t.transform||matrix.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],matrix.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},dataToPoint:function(r,t,n){var e=t?this._rawTransform:this.transform;return n=n||[],e?v2ApplyTransform(n,r,e):vector.copy(n,r)},pointToData:function(r){var t=this.invTransform;return t?v2ApplyTransform([],r,t):[r[0],r[1]]},convertToPixel:zrUtil.curry(doConvert,"dataToPoint"),convertFromPixel:zrUtil.curry(doConvert,"pointToData"),containPoint:function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])}},zrUtil.mixin(View,Transformable);var _default=View;module.exports=_default;
//# sourceMappingURL=/sm/090d5c52bc14cbab27347e2550334579fee6effc5c115428c992d48a97e55b42.map