/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/echarts@4.5.0/lib/coord/polar/polarCreator.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var _config=require("../../config"),__DEV__=_config.__DEV__,zrUtil=require("zrender/lib/core/util"),Polar=require("./Polar"),_number=require("../../util/number"),parsePercent=_number.parsePercent,_axisHelper=require("../../coord/axisHelper"),createScaleByModel=_axisHelper.createScaleByModel,niceScaleExtent=_axisHelper.niceScaleExtent,CoordinateSystem=require("../../CoordinateSystem"),_dataStackHelper=require("../../data/helper/dataStackHelper"),getStackedDimension=_dataStackHelper.getStackedDimension;function resizePolar(e,t,a){var r=t.get("center"),n=a.getWidth(),i=a.getHeight();e.cx=parsePercent(r[0],n),e.cy=parsePercent(r[1],i);var o=e.getRadiusAxis(),s=Math.min(n,i)/2,c=t.get("radius");null==c?c=[0,"100%"]:zrUtil.isArray(c)||(c=[0,c]),c=[parsePercent(c[0],s),parsePercent(c[1],s)],o.inverse?o.setExtent(c[1],c[0]):o.setExtent(c[0],c[1])}function updatePolarScale(e,t){var a=this,r=a.getAngleAxis(),n=a.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),n.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===a){var t=e.getData();zrUtil.each(t.mapDimension("radius",!0),function(e){n.scale.unionExtentFromData(t,getStackedDimension(t,e))}),zrUtil.each(t.mapDimension("angle",!0),function(e){r.scale.unionExtentFromData(t,getStackedDimension(t,e))})}}),niceScaleExtent(r.scale,r.model),niceScaleExtent(n.scale,n.model),"category"===r.type&&!r.onBand){var i=r.getExtent(),o=360/r.scale.count();r.inverse?i[1]+=o:i[1]-=o,r.setExtent(i[0],i[1])}}function setAxis(e,t){if(e.type=t.get("type"),e.scale=createScaleByModel(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var a=t.get("startAngle");e.setExtent(a,a+(e.inverse?-360:360))}t.axis=e,e.model=t}require("./PolarModel");var polarCreator={dimensions:Polar.prototype.dimensions,create:function(e,t){var a=[];return e.eachComponent("polar",function(e,r){var n=new Polar(r);n.update=updatePolarScale;var i=n.getRadiusAxis(),o=n.getAngleAxis(),s=e.findAxisModel("radiusAxis"),c=e.findAxisModel("angleAxis");setAxis(i,s),setAxis(o,c),resizePolar(n,e,t),a.push(n),e.coordinateSystem=n,n.model=e}),e.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var a=e.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=a.coordinateSystem}}),a}};CoordinateSystem.register("polar",polarCreator);
//# sourceMappingURL=/sm/a71c3d8ea482f9e53d859e1ed1eeb2753269a4c7a2d53936629a55bb2988ca0d.map